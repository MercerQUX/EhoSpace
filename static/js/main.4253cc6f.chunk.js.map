{"version":3,"sources":["components/Dialogs/dialogs.module.css","reportWebVitals.js","components/Saidbar/saidbar-list.ts","components/Saidbar/Saidbar.tsx","hooks/redux-use.ts","store/reselectors/auth-selector.ts","store/thunks/usersThunks.ts","store/reducers/userSlice.ts","services/DB/SignInDB.ts","services/DB/TotalUsersDB.ts","services/DB/SignUpDB.ts","services/DB/validRegisterDB.ts","services/DB/ChatDB.ts","services/DB/FetchProfile.ts","store/thunks/dialogsThunks.ts","store/thunks/authThunks.ts","components/Header/Header.tsx","services/DB/PostsDB.ts","services/DB/RewriteProfile.ts","store/thunks/profileThunks.ts","store/reducers/authSlice.ts","asset/notAvatar.jpg","store/reducers/profileSlice.ts","helpers/initialzationHelper.tsx","asset/preloader.svg","asset/common/Preloader.tsx","services/validation/validators.tsx","UI/FormAuth/FormLogin.tsx","UI/FormAuth/FormRegister.tsx","UI/FormAuth/FormsAuth.tsx","components/Auth/Login.tsx","components/Contact/Contact.tsx","store/reselectors/dialogs-selector.ts","store/reselectors/users-selector.ts","components/Dialogs/DialogsWindow/SingleDialog.tsx","components/Dialogs/DialogsWindow/DialogsBlock.tsx","UI/FormChat/FormMessage.tsx","components/Dialogs/MessagesWindow/SingleMessage.tsx","asset/chat-preview.svg","asset/common/ChatPreview.tsx","components/Dialogs/MessagesWindow/MessageBlock.tsx","components/Dialogs/Dialog.tsx","components/News/News.tsx","store/reselectors/profile-selector.ts","UI/FormCreatePost/FormCreatePost.tsx","components/Profile/PostModule/Post.tsx","components/Profile/PostModule/PostCreater.tsx","UI/FormEditProfile/FormEditProfile.tsx","UI/FormEditStatus/FormEditStatus.tsx","components/Profile/ProfileModule/ProfileCard.tsx","components/Profile/ProfileModule/ProfileContainer.tsx","components/Profile/Profile.tsx","UI/FollowingBtn/Following_btn.tsx","components/User/User.tsx","routers/router-list.ts","components/User/UsersPage.tsx","routers/Routers.tsx","App.tsx","store/reducers/dialogsSlice.ts","store/store.ts","firebase.ts","index.tsx","components/Profile/profile.module.css","components/User/users.module.css","main.module.css","components/Header/header.module.css","asset/asset.module.css","components/Saidbar/saidbar.module.css","UI/forms.module.css"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","dataListSaidbar","key","path","name","Saidbar","className","style","saidbar","map","link","to","isActive","activeLink","useAppDispatch","useDispatch","useAppSelector","useSelector","getAuthID","state","authReducer","id","getAuthLogin","login","getAuthIsLoading","isLoading","getAuthError","error","isAuthInitialization","isAuth","getPartUsers","createAsyncThunk","_","thunkAPI","a","getState","userReducer","getUsers","query","ref","getDatabase","orderByKey","startAfter","String","usersShowed","limitToFirst","limitShowUsers","get","res","Object","values","exportVal","setFollowed","payload","isFollow","newFollowing","following","filter","idFollowed","reference","set","userSlice","createSlice","initialState","users","isFetching","isEmpty","isFollowingDisabled","reducers","setFriends","action","extraReducers","pending","type","fulfilled","length","rejected","userAction","actions","reducer","handleLoginDB","email_login","password","remakeEmailInLogin","pureEmail","auth","getAuth","signInWithEmailAndPassword","openDB","test","getUserData","val","email","catch","e","Error","getByUID","getSizeProfilesDB","db","getSize","size","handleRegisterDB","surname","country","createUserWithEmailAndPassword","updateProfile","user","displayName","createNewUserDB","getTotalUsers","newUserDB","city","nickname","avatar","status","console","log","validateLoginDB","valid","hasChild","validateEmailDB","orderByChild","equalTo","fetchChatDB","idSender","idAdress","roomID","Number","fetchDialogs","message","uploadChatDB","addMessages","refSize","totalMessage","fetchSingleProfile","fetchProfile","profile","fetchShortProfile","array","profiles","allUsers","sortUsers","u","followUser","i","fetchArrayFollowUsers","shortProfiles","fetchChatMessages","sendMessages","messageBody","newMessage","dialogsReducer","dialogsMessages","body","timestamp","signInProfile","getUser","uid","rejectWithValue","signUpProfile","validLogin","validEmail","signOutProfile","signOut","dispatch","Header","header","logo","loginBlock","onClick","logOut","fetchPostsDB","fetchPosts","post","posts","uploadPostsDB","newPost","clearID","referenceFirst","referenceSecond","rewriteProfile","newProfile","idArrayUsers","updateAuthProfile","response","sendRewriteProfile","uploadPosts","profileReducer","concatPosts","authSlice","initializeAuthProfile","authAction","profileSlice","actualStatus","isOwner","addPost","defineOwnerProfile","changeStatus","notAvatar","profileAction","initlizationProfile","selectUser","idLoggedUser","updateProfileData","selectedUser","isNaN","initialzationApp","onAuthStateChanged","getInfo","Preloader","preloader","src","alt","ValidStatusSchema","Yup","shape","editStatus","max","required","ValidMessageSchema","bodyMessage","ValidLoginFormSchema","matches","min","ValidRegisterFormSchema","ValidCreatePostSchema","ValidEditProfileSchema","profileName","profileSurname","profileNick","profileStatus","profileCountry","profileCity","profileAvatar","url","FormLogin","initialValues","onSubmit","validationSchema","formikProps","FieldLogin","errors","touched","alternate–°allErrors","form","form__title","placeholder","cn","input","input__correctly","autoComplete","btn","FormRigister","meta","requestStatus","FieldRegister","input__error","AuthForms","useState","isToggle","setIsToggle","container","right_panel_active","container__form","container__signup","container__signin","container__overlay","overlay","overlay__panel","overlay__left","overlay__right","Login","Contact","dialogsUsers","ownDialogsMessages","createSelector","messages","idLogged","other","getIsFetching","getIsEmpty","getIsFollowingDisabled","getFollowingID","getFiltredUsers","SingleDialog","wrapperSingleDialog","infoDialog","infoName","infoStatus","DialogsBlock","followedUsers","friends","fetchFollowUsers","useCallback","useEffect","animOne","animTwo","animThree","hide_show","set_hide_show","wrapperContactsDialogs","animationHideDialogs","animWrapperActive","animShowBtn","animWrapperDisabled","animationShowDialogs","animHideBtn","mapDialogsUser","showDialogs_btn","headerDialogs","usersDialogs","emptyDialogs","footerDialogs","FormMessage","adressID","resetForm","Fields","wrapperChatForm","as","chat_textarea","chat_btn","SingleMessage","messagePosition","timeStamp","ownMessage","messageOther","containerMessage","singleMessage","messageTime","ChatPreview","chatPreview","animation","MessageBlock","chatName","activeDialogs","useParams","userID","dialogs","loggedID","fetchMessages","dataDialogs","mapMessage","mes","wrapperContactsMessage","headerMessage","fullNameDialog","statusChat","userMessage","untilSelectText","footerMessage","Dialogs","wrapperDialog","News","getPosts","getIsOwnerProfile","getProfile","FormCreatePost","formProps","formCreatePost","errorCreatePost","btn_post","Post","img","text","wrapperPost","postContent","postTime","PostCreater","isOwnerProfile","wrapperCreaterPost","loading","item","FormEditProfile","setIsEditProfile","sendNewProfile","startValue","newData","allForms","spanEditProfile","inputsEditProfile","errorField","uploadAvatar","inputsAvatar","errorEditProfile","btn_editProfile","btn_apply","btn_cancel","FormEditStatus","setIsEditStatus","saveStatus","handleSubmit","editStatusInput","autoFocus","onBlur","errorEditStatus","ProfileCard","isEditStatus","isEditProfile","profileCard","leftCard","profileInfo","onDoubleClick","rightCard","btn_settings","locationCard","wrapperEditMode","wrapperForm","ProfileContainer","setIsLoading","paramsSelectedUserID","initProfile","timer","setTimeout","clearTimeout","Profile","FollowingButton","isFollowed","idUser","unfollow","follow","disabled","User","data","some","avatars","wrapperUser","leftContent","window","scrollTo","top","userIMG","dataBlock","dataFullName","dataNickname","dataStatus","rightContent","dataCountry","dataCity","dataListRouter","redirect","redirectPath","JSX","getUsersParts","mapUsers","textAlign","styleU","btnGetUsers","Routers","route","element","App","wrapper","dialogsSlice","addMessage","rootReducer","combineReducers","setupStore","configureStore","app","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","databaseURL","store","getAnalytics","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4253cc6f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperDialog\":\"dialogs_wrapperDialog__XB1Jj\",\"wrapperContactsDialogs\":\"dialogs_wrapperContactsDialogs__JZ35-\",\"wrapperContactsMessage\":\"dialogs_wrapperContactsMessage__njDRn\",\"headerDialogs\":\"dialogs_headerDialogs__cYjdU\",\"usersDialogs\":\"dialogs_usersDialogs__1qubT\",\"footerDialogs\":\"dialogs_footerDialogs__2aubO\",\"headerMessage\":\"dialogs_headerMessage__1Q-L5\",\"fullNameDialog\":\"dialogs_fullNameDialog__2bpAm\",\"statusChat\":\"dialogs_statusChat__18ZAl\",\"userMessage\":\"dialogs_userMessage__1xzVU\",\"footerMessage\":\"dialogs_footerMessage__zhdhH\",\"showDialogs_btn\":\"dialogs_showDialogs_btn__2pr4b\",\"wrapperSingleDialog\":\"dialogs_wrapperSingleDialog__G1JN-\",\"activeLink\":\"dialogs_activeLink__3VTI5\",\"infoDialog\":\"dialogs_infoDialog__11L4f\",\"infoName\":\"dialogs_infoName__20SQZ\",\"infoStatus\":\"dialogs_infoStatus__K-6zR\",\"avatar\":\"dialogs_avatar__2q2Xt\",\"emptyDialogs\":\"dialogs_emptyDialogs__3JegA\",\"containerMessage\":\"dialogs_containerMessage__1pAjb\",\"singleMessage\":\"dialogs_singleMessage__3-1b1\",\"messageOther\":\"dialogs_messageOther__GwBrw\",\"messageBody\":\"dialogs_messageBody__3ejbF\",\"messageTime\":\"dialogs_messageTime__2gWII\",\"animationHideDialogs\":\"dialogs_animationHideDialogs__3Ncg4\",\"animationShowDialogs\":\"dialogs_animationShowDialogs__3p_pB\",\"animWrapperActive\":\"dialogs_animWrapperActive__14uVa\",\"animWrapperDisabled\":\"dialogs_animWrapperDisabled__2fa2Y\",\"animHideBtn\":\"dialogs_animHideBtn__15kqi\",\"animShowBtn\":\"dialogs_animShowBtn__DD-mF\",\"untilSelectText\":\"dialogs_untilSelectText__3jSO4\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const dataListSaidbar = [\r\n  {\r\n    key: 1,\r\n    path: \"/profile\",\r\n    name: \"Profile\",\r\n  },\r\n  {\r\n    key: 2,\r\n    path: \"/dialogs\",\r\n    name: \"Dialogs\",\r\n  },\r\n  {\r\n    key: 3,\r\n    path: \"/users\",\r\n    name: \"Users\",\r\n  },\r\n  {\r\n    key: 4,\r\n    path: \"/contact\",\r\n    name: \"Contacts\",\r\n  },\r\n  {\r\n    key: 5,\r\n    path: \"/news\",\r\n    name: \"News\",\r\n  },\r\n];\r\n","import style from \"./saidbar.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { dataListSaidbar } from \"./saidbar-list\";\r\n\r\nconst Saidbar = () => {\r\n  return (\r\n    <div className={style.saidbar}>\r\n      <ul>\r\n        {dataListSaidbar.map((link) => {\r\n          return (\r\n            <li key={link.key}>\r\n              <NavLink\r\n                to={link.path}\r\n                className={({ isActive }) => (isActive ? style.activeLink : \"\")}\r\n              >\r\n                {link.name}\r\n              </NavLink>\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Saidbar;\r\n","import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\r\nimport { AppDispatch, RootState } from \"../store/store\";\r\n\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n","import { RootState } from \"../store\";\r\n\r\nexport const getAuthID = (state: RootState) => {\r\n  return state.authReducer.id;\r\n};\r\nexport const getAuthLogin = (state: RootState) => {\r\n  return state.authReducer.login;\r\n};\r\nexport const getAuthIsLoading = (state: RootState) => {\r\n  return state.authReducer.isLoading;\r\n};\r\nexport const getAuthError = (state: RootState) => {\r\n  return state.authReducer.error;\r\n};\r\nexport const isAuthInitialization = (state: RootState) => {\r\n  return state.authReducer.isAuth;\r\n};\r\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport {\r\n  get,\r\n  getDatabase,\r\n  limitToFirst,\r\n  orderByKey,\r\n  query,\r\n  ref,\r\n  set,\r\n  startAfter,\r\n} from \"firebase/database\";\r\n\r\ninterface IThunkPayloadFollowed {\r\n  id: number;\r\n  isFollow: boolean;\r\n}\r\n\r\nexport const getPartUsers = createAsyncThunk(\r\n  \"users/getPartUsers\",\r\n  async (_, thunkAPI: { getState: any }) => {\r\n    const state = thunkAPI.getState().userReducer;\r\n    const getUsers = query(\r\n      ref(getDatabase(), \"users\"),\r\n      orderByKey(),\r\n      startAfter(String(state.usersShowed)),\r\n      limitToFirst(state.limitShowUsers)\r\n    );\r\n    return await get(getUsers).then((res) => {\r\n      return Object.values(res.exportVal());\r\n    });\r\n  }\r\n);\r\n\r\nexport const setFollowed = createAsyncThunk(\r\n  \"users/setFollowed\",\r\n  async (payload: IThunkPayloadFollowed, thunkAPI: { getState: any }) => {\r\n    const { id, isFollow } = payload;\r\n    const state = thunkAPI.getState();\r\n    const newFollowing = isFollow\r\n      ? state.userReducer.following.filter((idFollowed: number) => {\r\n          return idFollowed !== id;\r\n        })\r\n      : [...state.userReducer.following, id];\r\n    const reference = ref(\r\n      getDatabase(),\r\n      `innerData/${state.authReducer.login}/following`\r\n    );\r\n    await set(reference, newFollowing);\r\n    return newFollowing;\r\n  }\r\n);\r\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { ICommonProfile } from \"../../models/ICommonProfile\";\r\nimport { getPartUsers, setFollowed } from \"../thunks/usersThunks\";\r\n\r\nexport type initialStateType = {\r\n  users: Array<ICommonProfile>;\r\n  limitShowUsers: number;\r\n  following: Array<number>;\r\n  usersShowed: number;\r\n  isFetching: boolean;\r\n  isEmpty: boolean;\r\n  isFollowingDisabled: boolean;\r\n  error: string;\r\n};\r\n\r\nlet initialState: initialStateType = {\r\n  users: [],\r\n  following: [],\r\n  limitShowUsers: 4,\r\n  usersShowed: -1,\r\n  isFetching: false,\r\n  isEmpty: false,\r\n  isFollowingDisabled: false,\r\n  error: \"\",\r\n};\r\n\r\nconst userSlice = createSlice({\r\n  name: \"userPage\",\r\n  initialState,\r\n  reducers: {\r\n    setFriends(state, action: PayloadAction<Array<number>>) {\r\n      state.following = action.payload ? Object.values(action.payload) : [];\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [getPartUsers.pending.type]: (state) => {\r\n      state.isFetching = true;\r\n    },\r\n    [getPartUsers.fulfilled.type]: (\r\n      state,\r\n      action: PayloadAction<Array<ICommonProfile>>\r\n    ) => {\r\n      state.users = [...state.users, ...action.payload];\r\n      state.usersShowed = state.users.length - 1;\r\n      state.isFetching = false;\r\n    },\r\n    [getPartUsers.rejected.type]: (state, action: PayloadAction<string>) => {\r\n      state.isFetching = false;\r\n      state.error = action.payload;\r\n      state.isEmpty = true;\r\n    },\r\n    [setFollowed.pending.type]: (state) => {\r\n      state.isFollowingDisabled = true;\r\n    },\r\n    [setFollowed.fulfilled.type]: (\r\n      state,\r\n      action: PayloadAction<Array<number>>\r\n    ) => {\r\n      if (action.payload === null) {\r\n        state.following = [1030];\r\n      } else {\r\n        state.following = action.payload;\r\n      }\r\n      state.isFollowingDisabled = false;\r\n    },\r\n    [setFollowed.rejected.type]: (state) => {\r\n      state.isFollowingDisabled = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport const userAction = userSlice.actions;\r\nexport const userReducer = userSlice.reducer;\r\n","import { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\r\nimport { get, getDatabase, query, ref } from \"firebase/database\";\r\nimport { ISignIn } from \"../../models/ISigns\";\r\n\r\nexport const handleLoginDB = async ({ email_login, password }: ISignIn) => {\r\n  const pureEmail = await remakeEmailInLogin(email_login);\r\n  const auth = getAuth();\r\n  return signInWithEmailAndPassword(auth, pureEmail, password);\r\n};\r\nconst remakeEmailInLogin = async (email_login: string) => {\r\n  const openDB = getDatabase();\r\n\r\n  if (/^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})/.test(email_login)) {\r\n    return email_login;\r\n  } else {\r\n    const getUserData = query(ref(openDB, `innerData/${email_login}`));\r\n    return await get(getUserData)\r\n      .then((res) => {\r\n        return res.val().email;\r\n      })\r\n      .catch((e) => {\r\n        return new Error(\"AuthError: not found user-data\");\r\n      });\r\n  }\r\n};\r\n\r\nexport const getByUID = async (login: string | null) => {\r\n  const openDB = getDatabase();\r\n  const getUserData = query(ref(openDB, `innerData/${login}`));\r\n  return await get(getUserData)\r\n    .then((res) => {\r\n      return res.val().id;\r\n    })\r\n    .catch((e) => {\r\n      return 0;\r\n    });\r\n};\r\n","import { getDatabase, get, ref } from \"firebase/database\";\r\n\r\nexport const getSizeProfilesDB = async () => {\r\n  const db = getDatabase();\r\n  const reference = ref(db, \"users\");\r\n  const getSize = (await get(reference)).size;\r\n  return getSize;\r\n};\r\n","import { ICommonProfile } from \"./../../models/ICommonProfile\";\r\nimport {\r\n  getAuth,\r\n  createUserWithEmailAndPassword,\r\n  updateProfile,\r\n} from \"firebase/auth\";\r\nimport { getDatabase, ref, set } from \"firebase/database\";\r\nimport { ISignUp } from \"../../models/ISigns\";\r\nimport { getSizeProfilesDB } from \"./TotalUsersDB\";\r\n\r\nexport const handleRegisterDB = async ({\r\n  name,\r\n  surname,\r\n  country,\r\n  email,\r\n  login,\r\n  password,\r\n}: ISignUp) => {\r\n  const auth = getAuth();\r\n  await createUserWithEmailAndPassword(auth, email, password)\r\n    .then((res) => {\r\n      updateProfile(res.user, { displayName: login });\r\n    })\r\n    .then(() =>\r\n      createNewUserDB({ name, surname, country, email, login, password })\r\n    );\r\n};\r\n\r\nconst createNewUserDB = async ({\r\n  name,\r\n  surname,\r\n  country,\r\n  email,\r\n  login,\r\n}: ISignUp) => {\r\n  const openDB = getDatabase();\r\n  let getTotalUsers = await getSizeProfilesDB();\r\n  const newUserDB: ICommonProfile = {\r\n    name: name,\r\n    surname: surname,\r\n    country: country,\r\n    city: \"Not indicated\",\r\n    nickname: \"\",\r\n    id: 1030 + getTotalUsers,\r\n    avatar: \"\",\r\n    status: \"\",\r\n  };\r\n  console.log(newUserDB);\r\n  await set(ref(openDB, \"users/\" + getTotalUsers), newUserDB);\r\n  await set(ref(openDB, \"innerData/\" + login), {\r\n    email: email,\r\n    id: newUserDB.id,\r\n  });\r\n};\r\n","import {\r\n  getDatabase,\r\n  get,\r\n  query,\r\n  orderByChild,\r\n  equalTo,\r\n  ref,\r\n} from \"firebase/database\";\r\n\r\nexport const validateLoginDB = async (login: string) => {\r\n  const db = getDatabase();\r\n  const reference = ref(db, \"innerData/\");\r\n  const valid = (await get(reference)).hasChild(login);\r\n  return valid ? false : true;\r\n};\r\nexport const validateEmailDB = async (email: string) => {\r\n  const db = getDatabase();\r\n  const reference = query(\r\n    ref(db, \"innerData/\"),\r\n    orderByChild(\"email\"),\r\n    equalTo(email)\r\n  );\r\n  const valid = (await get(reference)).size;\r\n  return valid ? false : true;\r\n};\r\n","import { getDatabase, get, set, ref } from \"firebase/database\";\r\nimport { fetchMessageType, uploadMessageType } from \"../../models/IDialogs\";\r\n\r\nexport const fetchChatDB = async ({ idSender, idAdress }: fetchMessageType) => {\r\n  const db = getDatabase();\r\n  const roomID = idSender * Number(idAdress);\r\n  const fetchDialogs = ref(db, `chat/${roomID}`);\r\n  const message = await (await get(fetchDialogs)).exportVal();\r\n  return Object.values(message);\r\n};\r\n\r\nexport const uploadChatDB = async ({\r\n  idSender,\r\n  idAdress,\r\n  addMessages,\r\n}: uploadMessageType) => {\r\n  const db = getDatabase();\r\n  const refSize = ref(db, `chat/${idSender * idAdress}`);\r\n  const totalMessage = await (await get(refSize)).size;\r\n  const reference = ref(db, `chat/${idSender * idAdress}/${totalMessage}`);\r\n  await set(reference, addMessages);\r\n};\r\n","import {\r\n  getDatabase,\r\n  query,\r\n  orderByChild,\r\n  equalTo,\r\n  get,\r\n  ref,\r\n} from \"firebase/database\";\r\n\r\nexport const fetchSingleProfile = async (id: number) => {\r\n  const db = getDatabase();\r\n  const fetchProfile = query(ref(db, \"users\"), orderByChild(`id`), equalTo(id));\r\n  const profile = await (await get(fetchProfile)).exportVal();\r\n  if (profile === null) {\r\n    return new Error(\"User not found\");\r\n  } else {\r\n    return profile;\r\n  }\r\n};\r\n\r\nexport const fetchShortProfile = async (array: number[]) => {\r\n  const db = getDatabase();\r\n  const fetchProfile = query(ref(db, \"users\"));\r\n  const profiles = await (await get(fetchProfile)).exportVal();\r\n  const allUsers = Object.values(profiles);\r\n  const sortUsers = array.map((u: any) => {\r\n    const followUser: any = allUsers.filter((i: any) => {\r\n      return i.id === u;\r\n    })[0];\r\n    const shortUser = {\r\n      id: followUser.id,\r\n      avatar: followUser.avatar,\r\n      name: followUser.name,\r\n      surname: followUser.surname,\r\n      nickname: followUser.nickname,\r\n    };\r\n    return shortUser;\r\n  });\r\n  return sortUsers;\r\n};\r\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport { fetchMessageType, sendedMessageType } from \"../../models/IDialogs\";\r\nimport { fetchChatDB, uploadChatDB } from \"../../services/DB/ChatDB\";\r\nimport { fetchShortProfile } from \"../../services/DB/FetchProfile\";\r\n\r\nexport const fetchArrayFollowUsers = createAsyncThunk(\r\n  \"dialogs/FetchArray\",\r\n  async (payload: number[], thunkAPI) => {\r\n    const shortProfiles = await fetchShortProfile(Object.values(payload));\r\n    return shortProfiles;\r\n  }\r\n);\r\n\r\nexport const fetchChatMessages = createAsyncThunk(\r\n  \"dialogs/fetchMessages\",\r\n  async (payload: fetchMessageType, thunkAPI) => {\r\n    if (payload.idAdress) {\r\n      const message = await fetchChatDB(payload);\r\n      return message;\r\n    } else {\r\n      return [];\r\n    }\r\n  }\r\n);\r\n\r\nexport const sendMessages = createAsyncThunk(\r\n  \"dialogs/sendMessage\",\r\n  async (payload: sendedMessageType, thunkAPI: { getState: any }) => {\r\n    const { idSender, idAdress, messageBody } = payload;\r\n    const newMessage = {\r\n      id: thunkAPI.getState().dialogsReducer.dialogsMessages.length,\r\n      body: messageBody,\r\n      idSender: idSender,\r\n      timestamp: \"00:00:00 01/01/2022\",\r\n    };\r\n    await uploadChatDB({\r\n      idSender,\r\n      idAdress,\r\n      addMessages: newMessage,\r\n    });\r\n    return newMessage;\r\n  }\r\n);\r\n","import { userAction } from \"./../reducers/userSlice\";\r\nimport { getByUID } from \"./../../services/DB/SignInDB\";\r\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport { handleLoginDB } from \"../../services/DB/SignInDB\";\r\nimport { handleRegisterDB } from \"../../services/DB/SignUpDB\";\r\nimport { getAuth, signOut } from \"firebase/auth\";\r\nimport { ISignIn, ISignUp } from \"../../models/ISigns\";\r\nimport {\r\n  validateLoginDB,\r\n  validateEmailDB,\r\n} from \"../../services/DB/validRegisterDB\";\r\nimport { fetchArrayFollowUsers } from \"./dialogsThunks\";\r\n\r\nexport const signInProfile = createAsyncThunk(\r\n  \"auth/signIn\",\r\n  async (payload: ISignIn, thunkAPI) => {\r\n    const { email_login, password } = payload;\r\n    try {\r\n      const getUser = await handleLoginDB({ email_login, password });\r\n      const uid = await getByUID(getUser.user.displayName);\r\n      return { login: getUser.user.displayName, id: uid };\r\n    } catch (e) {\r\n      return thunkAPI.rejectWithValue(\r\n        \"Warning: Incorrect data  user login or password\"\r\n      );\r\n    }\r\n  }\r\n);\r\n\r\nexport const signUpProfile = createAsyncThunk(\r\n  \"auth/signUp\",\r\n  async (payload: ISignUp, thunkAPI) => {\r\n    try {\r\n      const validLogin = await validateLoginDB(payload.login);\r\n      const validEmail = await validateEmailDB(payload.email);\r\n      if (validLogin && validEmail) {\r\n        await handleRegisterDB({ ...payload });\r\n      } else {\r\n        throw Error;\r\n      }\r\n    } catch (e) {\r\n      return thunkAPI.rejectWithValue(\r\n        \"Warning: There was a data failure, perhaps you entered data that already exists?\"\r\n      );\r\n    }\r\n  }\r\n);\r\n\r\nexport const signOutProfile = createAsyncThunk(\r\n  \"auth/SignOut\",\r\n  async (_, thunkAPI) => {\r\n    const { setFriends } = userAction;\r\n    await signOut(getAuth());\r\n    await thunkAPI.dispatch(setFriends([]));\r\n    await thunkAPI.dispatch(fetchArrayFollowUsers([]));\r\n  }\r\n);","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/redux-use\";\r\nimport {\r\n  isAuthInitialization,\r\n  getAuthLogin,\r\n} from \"../../store/reselectors/auth-selector\";\r\nimport { signOutProfile } from \"../../store/thunks/authThunks\";\r\nimport style from \"./header.module.css\";\r\n\r\nconst Header: React.FC = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { isAuth, login } = {\r\n    isAuth: useAppSelector(isAuthInitialization),\r\n    login: useAppSelector(getAuthLogin),\r\n  };\r\n  return (\r\n    <header className={style.header}>\r\n      <NavLink to=\"/profile\" className={style.logo}>\r\n        EhoSpace Social\r\n      </NavLink>\r\n      <div className={style.loginBlock}>\r\n        {isAuth ? (\r\n          <div>\r\n            <strong\r\n              onClick={() => dispatch(signOutProfile())}\r\n              className={style.logOut}\r\n            >\r\n              LogOut\r\n            </strong>\r\n            <NavLink to=\"/login\">{login}</NavLink>\r\n          </div>\r\n        ) : (\r\n          <NavLink to=\"/login\">LOGIN</NavLink>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import {\r\n  getDatabase,\r\n  query,\r\n  orderByChild,\r\n  equalTo,\r\n  get,\r\n  set,\r\n  ref,\r\n} from \"firebase/database\";\r\nimport { IPosts } from \"../../models/IPost\";\r\ntype uploadPostsType = { id: number; newPost: Array<IPosts> };\r\n\r\n\r\nexport const fetchPostsDB = async (id: number) => {\r\n  const db = getDatabase();\r\n  const fetchPosts = query(\r\n    ref(db, \"posts\"),\r\n    orderByChild(`userID`),\r\n    equalTo(id)\r\n  );\r\n  const post = await (await get(fetchPosts)).exportVal();\r\n  let res: any = Object.values(post)[0];\r\n  return Object.values(res.posts);\r\n};\r\n\r\nexport const uploadPostsDB = async ({ id, newPost }: uploadPostsType) => {\r\n  const db = getDatabase();\r\n  const clearID = id - 1030;\r\n  const referenceFirst = ref(db, `posts/${clearID}/userID`);\r\n  await set(referenceFirst, id);\r\n  const referenceSecond = ref(db, `posts/${clearID}/posts`);\r\n  await set(referenceSecond, newPost);\r\n};\r\n\r\n\r\n\r\n","import { getDatabase, ref, set } from \"firebase/database\";\r\nimport { ICommonProfile } from \"./../../models/ICommonProfile\";\r\nexport const rewriteProfile = async (\r\n  id: number,\r\n  newProfile: ICommonProfile\r\n) => {\r\n  const openDB = getDatabase();\r\n  const idArrayUsers = id - 1030;\r\n  await set(ref(openDB, \"users/\" + idArrayUsers), newProfile);\r\n};\r\n\r\n\r\n","import { fetchPostsDB, uploadPostsDB } from \"./../../services/DB/PostsDB\";\r\nimport { ICommonProfile } from \"../../models/ICommonProfile\";\r\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport { fetchSingleProfile } from \"../../services/DB/FetchProfile\";\r\nimport { rewriteProfile } from \"../../services/DB/RewriteProfile\";\r\nexport interface IThunkRewriteProfile {\r\n  id: number;\r\n  updateProfile: ICommonProfile;\r\n}\r\n\r\nexport const updateAuthProfile = createAsyncThunk(\r\n  \"profile/updateAuthProfile\",\r\n  async (payload: number, thunkAPI) => {\r\n    try {\r\n      const response = await fetchSingleProfile(payload);\r\n      return Object.values(response)[0];\r\n    } catch (e) {\r\n      return thunkAPI.rejectWithValue(\"User not found\");\r\n    }\r\n  }\r\n);\r\n\r\nexport const sendRewriteProfile = createAsyncThunk(\r\n  \"profile/rewriteProfile\",\r\n  async (payload: IThunkRewriteProfile, thunkAPI) => {\r\n    const { id, updateProfile } = payload;\r\n    try {\r\n      await rewriteProfile(id, updateProfile);\r\n    } catch (e) {\r\n      return thunkAPI.rejectWithValue(\"Server rejected\");\r\n    }\r\n  }\r\n);\r\n\r\nexport const fetchPosts = createAsyncThunk(\r\n  \"profile/fetchPost\",\r\n  async (payload: number, thunkAPI) => {\r\n    return await fetchPostsDB(payload);\r\n  }\r\n);\r\n\r\nexport const uploadPosts = createAsyncThunk(\r\n  \"profile/uploadPost\",\r\n  async (payload: string, thunkAPI: { getState: any }) => {\r\n    let newPost = {\r\n      id: thunkAPI.getState().profileReducer.posts.length + 1,\r\n      body: payload,\r\n      timestamp: \"00:00:00 01/01/22\",\r\n    };\r\n    let concatPosts = [...thunkAPI.getState().profileReducer.posts, newPost];\r\n    await uploadPostsDB({\r\n      id: thunkAPI.getState().authReducer.id,\r\n      newPost: concatPosts,\r\n    });\r\n\r\n    try {\r\n      return concatPosts;\r\n    } catch (error) {}\r\n  }\r\n);\r\n","import { IDataAuth } from \"../../models/IDataAuth\";\r\nimport { PayloadAction, createSlice } from \"@reduxjs/toolkit\";\r\nimport {\r\n  signInProfile,\r\n  signOutProfile,\r\n  signUpProfile,\r\n} from \"../thunks/authThunks\";\r\n\r\ntype initialStateType = IDataAuth;\r\ntype signInProfileType = {\r\n  id: number;\r\n  login: string;\r\n};\r\ntype initializeType = {\r\n  login: string | null;\r\n  isAuth: boolean;\r\n  id: number;\r\n};\r\n\r\nlet initialState: initialStateType = {\r\n  isAuth: false,\r\n  id: 0,\r\n  login: \"\",\r\n  isLoading: false,\r\n  error: \"\",\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: \"Auth\",\r\n  initialState,\r\n  reducers: {\r\n    initializeAuthProfile(state, action: PayloadAction<initializeType>) {\r\n      const { login, isAuth, id } = action.payload;\r\n      state.isAuth = isAuth;\r\n      state.login = login;\r\n      state.id = id;\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [signInProfile.fulfilled.type]: (\r\n      state,\r\n      action: PayloadAction<signInProfileType>\r\n    ) => {\r\n      state.login = action.payload.login;\r\n      state.id = action.payload.id;\r\n      state.isAuth = true;\r\n      state.error = \"\";\r\n      state.isLoading = false;\r\n    },\r\n    [signInProfile.pending.type]: (state) => {\r\n      state.isLoading = true;\r\n    },\r\n    [signInProfile.rejected.type]: (state, action: PayloadAction<string>) => {\r\n      state.error = action.payload;\r\n      state.isLoading = false;\r\n    },\r\n    [signUpProfile.fulfilled.type]: (state) => {\r\n      state.error = \"\";\r\n      state.isLoading = false;\r\n    },\r\n    [signUpProfile.pending.type]: (state) => {\r\n      state.isLoading = true;\r\n    },\r\n    [signUpProfile.rejected.type]: (state, action: PayloadAction<string>) => {\r\n      state.error = action.payload;\r\n      state.isLoading = false;\r\n    },\r\n    [signOutProfile.fulfilled.type]: (state) => {\r\n      state.login = \"\";\r\n      state.id = 0;\r\n      state.isAuth = false;\r\n      state.error = \"\";\r\n    },\r\n  },\r\n});\r\n\r\nexport const authAction = authSlice.actions;\r\n\r\nexport const authReducer = authSlice.reducer;\r\n","export default \"data:image/jpeg;base64,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\"","import {\r\n  fetchPosts,\r\n  updateAuthProfile,\r\n  uploadPosts,\r\n} from \"./../thunks/profileThunks\";\r\nimport { ICommonProfile } from \"../../models/ICommonProfile\";\r\nimport { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { IPosts } from \"../../models/IPost\";\r\nimport notAvatar from \"../../asset/notAvatar.jpg\";\r\n\r\ninterface initialStateProfileType {\r\n  posts: Array<IPosts>;\r\n  profile: ICommonProfile | null;\r\n  actualStatus: string;\r\n  isFetching: boolean;\r\n  isOwner: boolean;\r\n}\r\n\r\nlet initialState: initialStateProfileType = {\r\n  posts: [],\r\n  profile: null,\r\n  actualStatus: \"\",\r\n  isFetching: false,\r\n  isOwner: false,\r\n};\r\n\r\nconst profileSlice = createSlice({\r\n  name: \"profilePage\",\r\n  initialState,\r\n  reducers: {\r\n    addPost(state, action: PayloadAction<string>) {\r\n      state.posts = [\r\n        ...state.posts,\r\n        {\r\n          id: state.posts.length + 1,\r\n          body: action.payload,\r\n          timestamp: \"\",\r\n        },\r\n      ];\r\n    },\r\n    defineOwnerProfile(state, action: PayloadAction<number>) {\r\n      state.isOwner = action.payload === state.profile?.id;\r\n    },\r\n    changeStatus(state, action: PayloadAction<string>) {\r\n      //@ts-ignore\r\n      state.profile.status = action.payload;\r\n    },\r\n    rewriteProfile(state, action: PayloadAction<ICommonProfile>) {\r\n      state.profile = action.payload;\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [updateAuthProfile.pending.type]: (state) => {\r\n      state.isFetching = true;\r\n    },\r\n    [updateAuthProfile.fulfilled.type]: (\r\n      state,\r\n      action: PayloadAction<ICommonProfile>\r\n    ) => {\r\n      state.isFetching = false;\r\n      if (action.payload.avatar === \"\") {\r\n        state.profile = { ...action.payload, avatar: notAvatar };\r\n      } else {\r\n        state.profile = action.payload;\r\n      }\r\n    },\r\n    [updateAuthProfile.rejected.type]: (state) => {\r\n      state.isFetching = false;\r\n    },\r\n    [fetchPosts.pending.type]: (state) => {\r\n      state.isFetching = true;\r\n    },\r\n    [fetchPosts.fulfilled.type]: (state, action: PayloadAction<IPosts[]>) => {\r\n      state.isFetching = false;\r\n      if (action.payload) {\r\n        state.posts = action.payload;\r\n      }\r\n    },\r\n    [fetchPosts.rejected.type]: (state) => {\r\n      state.isFetching = false;\r\n      state.posts = [];\r\n    },\r\n    [uploadPosts.fulfilled.type]: (state, action: PayloadAction<IPosts[]>) => {\r\n      state.posts = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const profileAction = profileSlice.actions;\r\nexport const profileReducer = profileSlice.reducer;\r\n","import { fetchPosts, updateAuthProfile } from \"../store/thunks/profileThunks\";\r\nimport { AppDispatch } from \"../store/store\";\r\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\r\nimport { authAction } from \"../store/reducers/authSlice\";\r\nimport { get, getDatabase, ref } from \"firebase/database\";\r\nimport { userAction } from \"../store/reducers/userSlice\";\r\nimport { profileAction } from \"../store/reducers/profileSlice\";\r\nimport { fetchArrayFollowUsers } from \"../store/thunks/dialogsThunks\";\r\n\r\nexport const initlizationProfile = async (\r\n  selectUser: string | undefined,\r\n  idLoggedUser: number,\r\n  auth: boolean,\r\n  dispatch: AppDispatch\r\n) => {\r\n  const updateProfileData = updateAuthProfile;\r\n  const { defineOwnerProfile } = profileAction;\r\n  let selectedUser =\r\n    isNaN(Number(selectUser)) && auth ? idLoggedUser : Number(selectUser);\r\n  await dispatch(updateProfileData(selectedUser));\r\n  await dispatch(defineOwnerProfile(idLoggedUser));\r\n  await dispatch(fetchPosts(selectedUser));\r\n};\r\nexport const initialzationApp = async (dispatch: any) => {\r\n  const auth = getAuth();\r\n  const openDB = getDatabase();\r\n  const { initializeAuthProfile } = authAction;\r\n  const { setFriends } = userAction;\r\n  onAuthStateChanged(auth, async (user) => {\r\n    if (user === null) {\r\n      await dispatch(\r\n        initializeAuthProfile({ isAuth: false, login: \"\", id: 0 })\r\n      );\r\n    } else {\r\n      const reference = ref(openDB, `innerData/${user.displayName}`);\r\n      const getInfo = await (await get(reference)).exportVal();\r\n\r\n      if (getInfo === null) {\r\n        await dispatch(\r\n          initializeAuthProfile({ isAuth: false, login: \"\", id: 0 })\r\n        );\r\n      } else {\r\n        await dispatch(fetchArrayFollowUsers(getInfo.following));\r\n        await dispatch(setFriends(getInfo.following));\r\n        dispatch(\r\n          initializeAuthProfile({\r\n            isAuth: true,\r\n            login: user.displayName,\r\n            id: getInfo.id,\r\n          })\r\n        );\r\n      }\r\n    }\r\n  });\r\n};\r\n","export default __webpack_public_path__ + \"static/media/preloader.f5d18815.svg\";","import style from \"../asset.module.css\";\r\nimport preloader from \"../preloader.svg\";\r\nexport const Preloader = () => {\r\n  return (\r\n    <div>\r\n      <img className={style.preloader} src={preloader} alt=\"preloader\" />\r\n    </div>\r\n  );\r\n};","import * as Yup from \"yup\";\r\n\r\nexport const ValidStatusSchema = Yup.object().shape({\r\n  editStatus: Yup.string()\r\n    .max(150, \"Warning: Maximum characters 150\")\r\n    .required(\"Warning: Field required\"),\r\n});\r\n\r\nexport const ValidMessageSchema = Yup.object().shape({\r\n  bodyMessage: Yup.string().required(\"Warning:Field required\"),\r\n});\r\n\r\nexport const ValidLoginFormSchema = Yup.object().shape({\r\n  login: Yup.string()\r\n    .required(\"Warning: Fields must not be empty\")\r\n    .matches(\r\n      /^[A-Za-z0-9]+$/,\r\n      \"Warning: Please use only latin characters and numbers\"\r\n    )\r\n    .min(6, \"Warning: Minimul characters 6\")\r\n    .max(24, \"Warning: Maximum characters 24\"),\r\n  password: Yup.string()\r\n    .required(\"Warning: Fields must not be empty\")\r\n    .matches(\r\n      /^[A-Za-z0-9]+$/,\r\n      \"Warning: Please use only latin characters and numbers\"\r\n    )\r\n    .matches(/[0-9]+/, \"Warning: Must have one or more digits\")\r\n    .min(8, \"Warning: Minimul characters 8\")\r\n    .max(24, \"Warning: Maximum characters 24\"),\r\n});\r\n\r\nexport const ValidRegisterFormSchema = Yup.object().shape({\r\n  email: Yup.string()\r\n    .required(\"Warning: Field Email must not be empty\")\r\n    .email(\"Warning: Field Email must be a valid email\")\r\n    .matches(\r\n      /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})/,\r\n      \"Warning: Please use only latin characters and numbers\"\r\n    ),\r\n  login: Yup.string()\r\n    .required(\"Warning: Field Login must not be empty\")\r\n    .matches(\r\n      /^[A-Za-z0-9]+$/,\r\n      \"Warning: Please use only latin characters and numbers\"\r\n    )\r\n    .min(6, \"Warning: Minimul characters 6\")\r\n    .max(24, \"Warning: Maximum characters 24\"),\r\n  name: Yup.string()\r\n    .required(\"Warning: Field Name is empty\")\r\n    .min(2, \"Warning: Name less than 2 characters\")\r\n    .max(35, \"Warning: Name more than 35 characters\"),\r\n  surname: Yup.string()\r\n    .required(\"Warning: Field Surname is empty\")\r\n    .min(2, \"Warning: Surname less than 2 characters\")\r\n    .max(35, \"Warning: Surname more than 35 characters\"),\r\n  country: Yup.string()\r\n    .required(\"Warning: Field Country is empty\")\r\n    .max(35, \"Warning: Field Country more than 35 characters\"),\r\n  password: Yup.string()\r\n    .required(\"Warning: Field Password must not be empty\")\r\n    .matches(\r\n      /^[A-Za-z0-9]+$/,\r\n      \"Warning: Please use only latin characters and numbers\"\r\n    )\r\n    .matches(/[0-9]+/, \"Warning: Must have one or more digits\")\r\n    .min(8, \"Warning: Minimul characters 8\")\r\n    .max(24, \"Warning: Maximum characters 24\"),\r\n});\r\n\r\nexport const ValidCreatePostSchema = Yup.object().shape({\r\n  newPost: Yup.string()\r\n    .required(\"Warning: Field empty\")\r\n    .min(10, \"Warning: Minimul characters 10\")\r\n    .max(500, \"Warning: Maximum characters 500\"),\r\n});\r\n\r\nexport const ValidEditProfileSchema = Yup.object().shape({\r\n  profileName: Yup.string()\r\n    .required(\"Warning: Field Name is empty\")\r\n    .min(2, \"Warning: Name less than 2 characters\")\r\n    .max(35, \"Warning: Name more than 35 characters\"),\r\n  profileSurname: Yup.string()\r\n    .required(\"Warning: Field Surname is empty\")\r\n    .min(2, \"Warning: Surname less than 2 characters\")\r\n    .max(35, \"Warning: Surname more than 35 characters\"),\r\n  profileNick: Yup.string().max(\r\n    25,\r\n    \"Warning: Nickname more than 25 characters\"\r\n  ),\r\n  profileStatus: Yup.string().max(\r\n    150,\r\n    \"Warning: Surname more than 150 characters\"\r\n  ),\r\n  profileCountry: Yup.string()\r\n    .required(\"Warning: Field Country is empty\")\r\n    .max(35, \"Warning: Field Country more than 35 characters\"),\r\n  profileCity: Yup.string()\r\n    .min(3, \"Field City less than 3 characters\")\r\n    .max(35, \"Warning: Field City more than 35 characters\"),\r\n  profileAvatar: Yup.string()\r\n    .url(\"Warning: Field for Avatar must be URL\")\r\n    .matches(\r\n      /\\.(gif|jpg|jpeg|jp2)/,\r\n      `Warning: Field \r\n  must end with \".gifs/.jpg/.jpeg\" format`\r\n    ),\r\n});\r\n","import { Field, Form, Formik } from \"formik\";\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/redux-use\";\r\nimport { getAuthError } from \"../../store/reselectors/auth-selector\";\r\nimport style from \"../forms.module.css\";\r\nimport { ValidLoginFormSchema } from \"../../services/validation/validators\";\r\nimport { signInProfile } from \"../../store/thunks/authThunks\";\r\nimport cn from \"classnames\";\r\n\r\ninterface IPropertyValues<T> {\r\n  login?: T;\r\n  password?: T;\r\n}\r\n\r\ninterface IFieldProps {\r\n  errors: IPropertyValues<string>;\r\n  touched: IPropertyValues<boolean>;\r\n  error: null | string;\r\n}\r\n\r\nexport const FormLogin = () => {\r\n  const { error } = {\r\n    error: useAppSelector(getAuthError),\r\n  };\r\n  const dispatch = useAppDispatch();\r\n  return (\r\n    <Formik\r\n      initialValues={{ login: \"\", password: \"\" }}\r\n      onSubmit={(values) => {\r\n        dispatch(\r\n          signInProfile({\r\n            email_login: values.login,\r\n            password: values.password,\r\n          })\r\n        );\r\n      }}\r\n      validationSchema={ValidLoginFormSchema}\r\n    >\r\n      {({ ...formikProps }) => {\r\n        return <FieldLogin {...formikProps} error={error} />;\r\n      }}\r\n    </Formik>\r\n  );\r\n};\r\n\r\nconst FieldLogin = ({ errors, touched, error }: IFieldProps) => {\r\n  const alternate–°allErrors =\r\n    (touched.login ? errors.login : null) ||\r\n    (touched.password ? errors.password : null) ||\r\n    error;\r\n  return (\r\n    <Form action=\"#\" className={style.form} id=\"SignIn\">\r\n      <h2 className={style.form__title}>Sign In</h2>\r\n      <Field\r\n        type=\"text\"\r\n        name=\"login\"\r\n        placeholder=\"Login or email\"\r\n        className={cn(\r\n          style.input,\r\n          touched.login && !errors.login ? style.input__correctly : null\r\n        )}\r\n        autoComplete=\"on\"\r\n      />\r\n      <Field\r\n        type=\"password\"\r\n        name=\"password\"\r\n        placeholder=\"Password\"\r\n        autoComplete=\"off\"\r\n        className={cn(\r\n          style.input,\r\n          touched.password && !errors.password ? style.input__correctly : null\r\n        )}\r\n      />\r\n      <div className={style.link}>\r\n        Forgot your password?\r\n      </div>\r\n      <span className={style.error}>{alternate–°allErrors}</span>\r\n      <button type=\"submit\" className={style.btn}>\r\n        Sign In\r\n      </button>\r\n    </Form>\r\n  );\r\n};","import { Field, Form, Formik } from \"formik\";\r\nimport style from \"../forms.module.css\";\r\nimport { ValidRegisterFormSchema } from \"../../services/validation/validators\";\r\nimport cn from \"classnames\";\r\nimport { useAppDispatch } from \"../../hooks/redux-use\";\r\nimport { signInProfile, signUpProfile } from \"../../store/thunks/authThunks\";\r\n\r\ninterface IPropertyValues<T> {\r\n  login?: T;\r\n  email?: T;\r\n  name?: T;\r\n  surname?: T;\r\n  country?: T;\r\n  password?: T;\r\n}\r\n\r\ninterface IFieldProps {\r\n  errors: IPropertyValues<string>;\r\n  touched: IPropertyValues<boolean>;\r\n}\r\n\r\nexport const FormRigister = () => {\r\n  const startValue = {\r\n    login: \"\",\r\n    email: \"\",\r\n    name: \"\",\r\n    surname: \"\",\r\n    country: \"\",\r\n    password: \"\",\r\n  };\r\n  const dispatch = useAppDispatch();\r\n  return (\r\n    <Formik\r\n      initialValues={startValue}\r\n      onSubmit={async (values) => {\r\n        const requestSignUp = await dispatch(signUpProfile({ ...values }));\r\n        if (requestSignUp.meta.requestStatus === \"fulfilled\") {\r\n          await dispatch(\r\n            signInProfile({\r\n              email_login: values.email,\r\n              password: values.password,\r\n            })\r\n          );\r\n        }\r\n      }}\r\n      validationSchema={ValidRegisterFormSchema}\r\n    >\r\n      {({ ...formikProps }) => {\r\n        return <FieldRegister {...formikProps} />;\r\n      }}\r\n    </Formik>\r\n  );\r\n};\r\n\r\nconst FieldRegister = ({ errors, touched }: IFieldProps) => {\r\n  const alternate–°allErrors =\r\n    (touched.login ? errors.login : null) ||\r\n    (touched.email ? errors.email : null) ||\r\n    (touched.name ? errors.name : null) ||\r\n    (touched.surname ? errors.surname : null) ||\r\n    (touched.country ? errors.country : null) ||\r\n    (touched.password ? errors.password : null);\r\n  return (\r\n    <Form autoComplete=\"off\" action=\"##\" className={style.form} id=\"SignUp\">\r\n      <h2 className={style.form__title}>Sign Up</h2>\r\n      <Field\r\n        type=\"text\"\r\n        placeholder=\"Your Login\"\r\n        name=\"login\"\r\n        className={cn(\r\n          style.input,\r\n          touched.login && errors.login ? style.input__error : null,\r\n          touched.login && !errors.login ? style.input__correctly : null\r\n        )}\r\n      />\r\n      <Field\r\n        type=\"text\"\r\n        placeholder=\"Your Email\"\r\n        name=\"email\"\r\n        className={cn(\r\n          style.input,\r\n          touched.email && errors.email ? style.input__error : null,\r\n          touched.email && !errors.email ? style.input__correctly : null\r\n        )}\r\n      />\r\n      <Field\r\n        type=\"text\"\r\n        placeholder=\"Your Name\"\r\n        name=\"name\"\r\n        className={cn(\r\n          style.input,\r\n          touched.name && errors.name ? style.input__error : null,\r\n          touched.name && !errors.name ? style.input__correctly : null\r\n        )}\r\n      />\r\n      <Field\r\n        type=\"text\"\r\n        placeholder=\"Your Surname\"\r\n        name=\"surname\"\r\n        className={cn(\r\n          style.input,\r\n          touched.surname && errors.surname ? style.input__error : null,\r\n          touched.surname && !errors.surname ? style.input__correctly : null\r\n        )}\r\n      />\r\n      <Field\r\n        type=\"text\"\r\n        placeholder=\"Your Country\"\r\n        name=\"country\"\r\n        className={cn(\r\n          style.input,\r\n          touched.country && errors.country ? style.input__error : null,\r\n          touched.country && !errors.country ? style.input__correctly : null\r\n        )}\r\n      />\r\n      <Field\r\n        type=\"password\"\r\n        placeholder=\"Password\"\r\n        name=\"password\"\r\n        autoComplete=\"off\"\r\n        className={cn(\r\n          style.input,\r\n          touched.password && errors.password ? style.input__error : null,\r\n          touched.password && !errors.password ? style.input__correctly : null\r\n        )}\r\n      />\r\n      <span className={style.error}>{alternate–°allErrors}</span>\r\n      <button type=\"submit\" className={style.btn}>\r\n        Sign Up\r\n      </button>\r\n    </Form>\r\n  );\r\n};\r\n","import { useState } from \"react\";\r\nimport { FormLogin } from \"./FormLogin\";\r\nimport { FormRigister } from \"./FormRegister\";\r\nimport style from \"../forms.module.css\";\r\nimport cn from \"classnames\"\r\n\r\nexport const AuthForms = () => {\r\n  const [isToggle, setIsToggle] = useState(false);\r\n\r\n  return (\r\n    <div\r\n      className={cn(style.container, isToggle&&style.right_panel_active)}\r\n    >\r\n      <div className={cn(style.container__form ,style.container__signup)}>\r\n        <FormRigister />\r\n      </div>\r\n      <div className={cn(style.container__form, style.container__signin)}>\r\n        <FormLogin/>\r\n      </div>\r\n      <div className={style.container__overlay}>\r\n        <div className={style.overlay}>\r\n          <div className={cn(style.overlay__panel,style.overlay__left)}>\r\n            <button\r\n              onClick={() => setIsToggle(false)}\r\n              className={style.btn}\r\n              id=\"signIn\"\r\n            >\r\n              Sign In\r\n            </button>\r\n          </div>\r\n          <div className={cn(style.overlay__panel,style.overlay__right)}>\r\n            <button\r\n              onClick={() => setIsToggle(true)}\r\n              className={style.btn}\r\n              id=\"signUp\"\r\n            >\r\n              Sign Up\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { Navigate } from \"react-router-dom\";\r\nimport { Preloader } from \"../../asset/common/Preloader\";\r\nimport { useAppSelector } from \"../../hooks/redux-use\";\r\nimport {\r\n  getAuthIsLoading,\r\n  isAuthInitialization,\r\n} from \"../../store/reselectors/auth-selector\";\r\nimport { AuthForms } from \"../../UI/FormAuth/FormsAuth\";\r\n\r\nconst Login = () => {\r\n  const { isAuth, isLoading } = {\r\n    isAuth: useAppSelector(isAuthInitialization),\r\n    isLoading: useAppSelector(getAuthIsLoading),\r\n  };\r\n  return isAuth ? (\r\n    <Navigate to={\"/profile\"} />\r\n  ) : (\r\n    <div>{isLoading ? <Preloader /> : <AuthForms />}</div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import style from \"../../main.module.css\"\r\n\r\nconst Contact = () => {\r\n  return (\r\n    <div className={style.profile}>\r\n      <p>Contacts</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Contact;\r\n","import { RootState } from \"./../store\";\r\nimport { createSelector } from \"@reduxjs/toolkit\";\r\nimport { getAuthID } from \"./auth-selector\";\r\n\r\nexport const dialogsMessages = (state: RootState) =>\r\n  state.dialogsReducer.dialogsMessages;\r\nexport const dialogsIsLoading = (state: RootState) =>\r\n  state.dialogsReducer.isLoading;\r\nexport const dialogsUsers = (state: RootState) =>\r\n  state.dialogsReducer.dialogsUsers;\r\nexport const ownDialogsMessages = createSelector(\r\n  dialogsMessages,\r\n  getAuthID,\r\n  (messages, idLogged) =>\r\n    messages.map((message) => {\r\n      return { ...message, other: message.idSender === idLogged };\r\n    })\r\n);\r\n","import { createSelector } from \"reselect\";\r\nimport { RootState } from \"../store\";\r\nimport { getAuthID } from \"./auth-selector\";\r\n\r\nexport const getUsers = (state: RootState) => state.userReducer.users;\r\nexport const getLimitLoadingUsers = (state: RootState) =>\r\n  state.userReducer.limitShowUsers;\r\nexport const getShowedUsers = (state: RootState) =>\r\n  state.userReducer.usersShowed;\r\nexport const getIsFetching = (state: RootState) => state.userReducer.isFetching;\r\nexport const getIsEmpty = (state: RootState) => state.userReducer.isEmpty;\r\nexport const getIsFollowingDisabled = (state: RootState) =>\r\n  state.userReducer.isFollowingDisabled;\r\nexport const getFollowingID = (state: RootState) => state.userReducer.following;\r\n\r\nexport const getFiltredUsers = createSelector(\r\n  getUsers,\r\n  getAuthID,\r\n  (users, idLogged) =>\r\n    users.filter((u) => {\r\n      return u.id !== idLogged;\r\n    })\r\n);\r\n","import { NavLink } from \"react-router-dom\";\r\nimport style from \"../dialogs.module.css\";\r\nimport notAvatar from \"../../../asset/notAvatar.jpg\";\r\ninterface defaultProps {\r\n  name: string;\r\n  surname: string;\r\n  nickname: string;\r\n  avatar: string;\r\n  id: number;\r\n}\r\nexport const SingleDialog: React.FC<defaultProps> = ({\r\n  name,\r\n  surname,\r\n  nickname,\r\n  avatar,\r\n  id,\r\n}) => {\r\n  return (\r\n    <NavLink\r\n      to={`/dialogs/${id}`}\r\n      className={({ isActive }) => (isActive ? style.activeLink : \"\")}\r\n    >\r\n      <div className={style.wrapperSingleDialog}>\r\n        <div className={style.infoDialog}>\r\n          <span className={style.infoName}>{nickname || name}</span>\r\n          <span className={style.infoStatus}>offline</span>\r\n        </div>\r\n        <div className={style.avatar}>\r\n          <img src={avatar || notAvatar} alt=\"avatar\" />\r\n        </div>\r\n      </div>\r\n    </NavLink>\r\n  );\r\n};\r\n","import { useCallback, useEffect, useState } from \"react\";\r\nimport { useAppDispatch, useAppSelector } from \"../../../hooks/redux-use\";\r\nimport { dialogsUsers } from \"../../../store/reselectors/dialogs-selector\";\r\nimport { getFollowingID } from \"../../../store/reselectors/users-selector\";\r\nimport style from \"../dialogs.module.css\";\r\nimport { SingleDialog } from \"./SingleDialog\";\r\nimport cn from \"classnames\";\r\nimport { fetchArrayFollowUsers } from \"../../../store/thunks/dialogsThunks\";\r\n\r\nexport const DialogsBlock: React.FC = () => {\r\n  const dispatch = useAppDispatch();\r\n  const followedUsers = useAppSelector(dialogsUsers);\r\n  const friends = useAppSelector(getFollowingID);\r\n  const fetchFollowUsers = useCallback(() => {\r\n    dispatch(fetchArrayFollowUsers(friends));\r\n  }, [friends, dispatch]);\r\n\r\n  useEffect(() => {\r\n    fetchFollowUsers();\r\n  }, [fetchFollowUsers, friends]);\r\n\r\n  const [hide_show, set_hide_show] = useState(true);\r\n  let animOne: string | undefined;\r\n  let animTwo: string | undefined;\r\n  let animThree: string | undefined;\r\n  if (hide_show) {\r\n    animOne = cn(style.wrapperContactsDialogs, style.animationHideDialogs);\r\n    animTwo = cn(style.animWrapperActive, style.animShowBtn);\r\n    animThree = cn(style.animWrapperDisabled);\r\n  } else {\r\n    animOne = cn(style.wrapperContactsDialogs, style.animationShowDialogs);\r\n    animTwo = cn(style.animWrapperDisabled, style.animHideBtn);\r\n    animThree = cn(style.animWrapperActive);\r\n  }\r\n\r\n  let mapDialogsUser = followedUsers.map((u) => {\r\n    return (\r\n      <SingleDialog\r\n        surname={u.surname}\r\n        nickname={u.nickname}\r\n        key={u.id}\r\n        id={u.id}\r\n        avatar={u.avatar}\r\n        name={u.name}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className={animThree}>\r\n      <div className={animTwo}>\r\n        <div\r\n          className={style.showDialogs_btn}\r\n          onClick={() => set_hide_show(false)}\r\n        >\r\n          {\">>>>\"}\r\n        </div>\r\n      </div>\r\n\r\n      <div className={animOne}>\r\n        <div className={style.headerDialogs}>\r\n          <span>Dialogs</span>\r\n          <div\r\n            className={style.showDialogs_btn}\r\n            onClick={() => set_hide_show(true)}\r\n          >\r\n            {\"<<<<\"}\r\n          </div>\r\n        </div>\r\n        <div className={style.usersDialogs}>\r\n          {followedUsers.length >= 1 ? (\r\n            mapDialogsUser\r\n          ) : (\r\n            <h2 className={style.emptyDialogs}>\r\n              You don't have any active dialogue! Use the \"Users\" page to\r\n              subscribe!\r\n            </h2>\r\n          )}\r\n        </div>\r\n        <div className={style.footerDialogs}></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { Field, Formik, Form } from \"formik\";\r\nimport { useAppDispatch } from \"../../hooks/redux-use\";\r\nimport { ValidMessageSchema } from \"../../services/validation/validators\";\r\nimport style from \"../forms.module.css\";\r\nimport { sendMessages } from \"../../store/thunks/dialogsThunks\";\r\n\r\ninterface IDefaultProps {\r\n  idSender: number;\r\n  adressID?: string;\r\n}\r\n\r\nexport const FormMessage = ({ idSender, adressID }: IDefaultProps) => {\r\n  const startValue = { bodyMessage: \"\" };\r\n  const dispatch = useAppDispatch();\r\n  return (\r\n    <Formik\r\n      initialValues={startValue}\r\n      onSubmit={(values, actions) => {\r\n        if (adressID) {\r\n          dispatch(\r\n            sendMessages({\r\n              idSender: idSender,\r\n              idAdress: Number(adressID),\r\n              messageBody: values.bodyMessage,\r\n            })\r\n          );\r\n        }\r\n        actions.resetForm({\r\n          values: {\r\n            bodyMessage: \"\",\r\n          },\r\n        });\r\n      }}\r\n      validationSchema={ValidMessageSchema}\r\n    >\r\n      {(...formikProps) => {\r\n        return <Fields />;\r\n      }}\r\n    </Formik>\r\n  );\r\n};\r\n\r\nconst Fields = () => {\r\n  return (\r\n    <Form className={style.wrapperChatForm}>\r\n      <Field\r\n        name={\"bodyMessage\"}\r\n        placeholder={\"Your message...\"}\r\n        as=\"textarea\"\r\n        className={style.chat_textarea}\r\n      />\r\n      <button className={style.chat_btn}>Send</button>\r\n    </Form>\r\n  );\r\n};\r\n","import style from \"../dialogs.module.css\";\r\nimport cn from \"classnames\";\r\n\r\ninterface defaultProps {\r\n  messagePosition: boolean;\r\n  bodyMessage: string;\r\n  timeStamp: string;\r\n}\r\n\r\nexport const SingleMessage: React.FC<defaultProps> = ({\r\n  messagePosition,\r\n  bodyMessage,\r\n  timeStamp,\r\n}) => {\r\n  let ownMessage = messagePosition ? style.messageOther : null;\r\n\r\n  return (\r\n    <div className={style.containerMessage}>\r\n      <div className={cn(style.singleMessage, ownMessage)}>\r\n        <span className={style.messageBody}>{bodyMessage}</span>\r\n        <span className={style.messageTime}>{timeStamp}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/chat-preview.4869b0bf.svg\";","import style from \"../asset.module.css\";\r\nimport animation from \"../chat-preview.svg\";\r\nexport const ChatPreview = () => {\r\n  return (\r\n    <div>\r\n      <img className={style.chatPreview} src={animation} alt=\"\" />\r\n    </div>\r\n  );\r\n};\r\n","import { useParams } from \"react-router\";\r\nimport { useAppDispatch, useAppSelector } from \"../../../hooks/redux-use\";\r\nimport {\r\n  dialogsUsers,\r\n  ownDialogsMessages,\r\n} from \"../../../store/reselectors/dialogs-selector\";\r\nimport style from \"../dialogs.module.css\";\r\nimport { FormMessage } from \"../../../UI/FormChat/FormMessage\";\r\nimport { getAuthID } from \"../../../store/reselectors/auth-selector\";\r\nimport { useCallback, useEffect } from \"react\";\r\nimport { fetchChatMessages } from \"../../../store/thunks/dialogsThunks\";\r\nimport { SingleMessage } from \"./SingleMessage\";\r\nimport { ChatPreview } from \"../../../asset/common/ChatPreview\";\r\n\r\nexport const MessageBlock: React.FC = () => {\r\n  const activeDialogs = useParams().userID;\r\n  const dispatch = useAppDispatch();\r\n  const { dialogs, messages, loggedID } = {\r\n    dialogs: useAppSelector(dialogsUsers),\r\n    messages: useAppSelector(ownDialogsMessages),\r\n    loggedID: useAppSelector(getAuthID),\r\n  };\r\n  const fetchMessages = useCallback(() => {\r\n    dispatch(\r\n      fetchChatMessages({ idSender: loggedID, idAdress: activeDialogs })\r\n    );\r\n  }, [loggedID, activeDialogs, dispatch]);\r\n\r\n  const dataDialogs = dialogs.filter(\r\n    (user) => user.id === Number(activeDialogs)\r\n  )[0];\r\n  useEffect(() => {\r\n    fetchMessages();\r\n  }, [activeDialogs, loggedID, fetchMessages]);\r\n\r\n  let chatName;\r\n  if (dataDialogs) {\r\n    let nickname = dataDialogs.nickname ? `(${dataDialogs.nickname})` : \"\";\r\n    chatName = `${dataDialogs.name} ${dataDialogs.surname} ${nickname}`;\r\n  } else {\r\n    chatName = `Selected User`;\r\n  }\r\n\r\n  let mapMessage = messages.map((mes) => {\r\n    return (\r\n      <SingleMessage\r\n        key={mes.id}\r\n        messagePosition={mes.other}\r\n        bodyMessage={mes.body}\r\n        timeStamp={mes.timestamp}\r\n      />\r\n    );\r\n  });\r\n  return (\r\n    <div className={style.wrapperContactsMessage}>\r\n      {activeDialogs ? (\r\n        <div className={style.headerMessage}>\r\n          <span className={style.fullNameDialog}>{chatName}</span>\r\n          <span className={style.statusChat}>Offline</span>\r\n        </div>\r\n      ) : (\r\n        <div className={style.headerMessage}>\r\n          <span className={style.fullNameDialog}>Welcome</span>\r\n        </div>\r\n      )}\r\n\r\n      <div className={style.userMessage}>\r\n        {mapMessage}\r\n      </div>\r\n      {!activeDialogs && (\r\n        <div className={style.untilSelectText}>\r\n          <span>\r\n            Hi! To use the chat application, you can click here and select a\r\n            user!\r\n          </span>\r\n          <ChatPreview />\r\n        </div>\r\n      )}\r\n\r\n      <div className={style.footerMessage}>\r\n        {activeDialogs ? (\r\n          <FormMessage idSender={loggedID} adressID={activeDialogs} />\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import style from \"./dialogs.module.css\";\r\nimport cn from \"classnames\";\r\nimport { DialogsBlock } from \"./DialogsWindow/DialogsBlock\";\r\nimport { MessageBlock } from \"./MessagesWindow/MessageBlock\";\r\n\r\nconst Dialogs = () => {\r\n  return (\r\n    <div className={cn(style.wrapperDialog)}>\r\n      <DialogsBlock />\r\n      <MessageBlock />\r\n    </div>\r\n  );\r\n};\r\nexport default Dialogs;\r\n","import React from \"react\";\r\nimport style from \"../../main.module.css\"\r\n\r\nconst News = () => {\r\n  return (\r\n    <div className={style.profile}>\r\n      <p>News</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default News;\r\n","import { RootState } from \"../store\";\r\n\r\nexport const getPosts = (state: RootState) => {\r\n  return state.profileReducer.posts;\r\n};\r\n\r\nexport const getActualStatus = (state: RootState) => {\r\n  return state.profileReducer.actualStatus;\r\n};\r\n\r\nexport const getIsOwnerProfile = (state:RootState)=>{\r\n  return state.profileReducer.isOwner;\r\n}\r\n\r\nexport const isFetchingProfile = (state: RootState) => {\r\n  return state.profileReducer.isFetching;\r\n};\r\n\r\nexport const getProfile = (state: RootState) => {\r\n  return state.profileReducer.profile;\r\n};\r\n","import { Formik, Form, Field } from \"formik\";\r\nimport { ValidCreatePostSchema } from \"../../services/validation/validators\";\r\nimport style from \"../forms.module.css\";\r\nimport { useAppDispatch } from \"../../hooks/redux-use\";\r\nimport { uploadPosts } from \"../../store/thunks/profileThunks\";\r\n\r\ninterface IDefaultProps {\r\n  addPost: (values: string) => any;\r\n}\r\ninterface IPropertyValues<T> {\r\n  newPost?: T;\r\n}\r\ninterface IFieldProps {\r\n  errors: IPropertyValues<string>;\r\n  touched: IPropertyValues<boolean>;\r\n}\r\n\r\nexport const FormCreatePost = ({ addPost }: IDefaultProps) => {\r\n  const dispatch = useAppDispatch();\r\n  const startValue = { newPost: \"\" };\r\n  return (\r\n    <Formik\r\n      initialValues={startValue}\r\n      onSubmit={(values: typeof startValue, { resetForm }) => {\r\n        dispatch(uploadPosts(values.newPost));\r\n        resetForm({\r\n          values: {\r\n            newPost: \"\",\r\n          },\r\n        });\r\n      }}\r\n      validationSchema={ValidCreatePostSchema}\r\n    >\r\n      {({ ...formProps }) => <Fields {...formProps} />}\r\n    </Formik>\r\n  );\r\n};\r\n\r\nconst Fields = ({ errors, touched }: IFieldProps) => {\r\n  return (\r\n    <Form>\r\n      <Field\r\n        className={style.formCreatePost}\r\n        id=\"newPost\"\r\n        name=\"newPost\"\r\n        placeholder={\"Your a new post...\"}\r\n        as=\"textarea\"\r\n      />\r\n      {errors.newPost && touched.newPost ? (\r\n        <span className={style.errorCreatePost}>{errors.newPost}</span>\r\n      ) : null}\r\n\r\n      <button className={style.btn_post} type=\"submit\">\r\n        Posting Post\r\n      </button>\r\n    </Form>\r\n  );\r\n};\r\n","import style from \"../profile.module.css\";\r\n\r\ntype defaultProps = {\r\n  name: string;\r\n  surname: string;\r\n  img: string;\r\n  text: string;\r\n};\r\nexport const Post: React.FC<defaultProps> = ({ name, surname, img, text }) => {\r\n  return (\r\n    <div className={style.wrapperPost}>\r\n      <img src={img} alt=\"aaa\" />\r\n      <div>\r\n        <span className={style.postContent}>{`${name} ${surname}`}</span>\r\n        <br />\r\n        <span className={style.postTime}>00:00:00 08/11/21</span>\r\n        <p>{text}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n","import { useAppSelector } from \"../../../hooks/redux-use\";\r\nimport { profileAction } from \"../../../store/reducers/profileSlice\";\r\nimport {\r\n  getIsOwnerProfile,\r\n  getPosts,\r\n  getProfile,\r\n} from \"../../../store/reselectors/profile-selector\";\r\nimport { FormCreatePost } from \"../../../UI/FormCreatePost/FormCreatePost\";\r\nimport style from \"../profile.module.css\";\r\nimport { Post } from \"./Post\";\r\n\r\nexport const PostCreater: React.FC = () => {\r\n  const { posts, profile, isOwnerProfile } = {\r\n    posts: useAppSelector(getPosts),\r\n    profile: useAppSelector(getProfile),\r\n    isOwnerProfile: useAppSelector(getIsOwnerProfile),\r\n  };\r\n  const addPost = profileAction.addPost;\r\n  let map = () => {\r\n    if (profile === null) {\r\n      return <h2 className={style.loading}>Loading...</h2>;\r\n    } else if (posts.length === 0 && !isOwnerProfile) {\r\n      return <h2>This user has no posts yet.</h2>;\r\n    } else if (posts.length === 0 && isOwnerProfile) {\r\n      return (\r\n        <h2>\r\n          You don't have any posts yet, leave your post so that others know more\r\n          about you!\r\n        </h2>\r\n      );\r\n    } else {\r\n      return posts.map((item) => {\r\n        return (\r\n          <Post\r\n            key={item.id}\r\n            name={profile.name}\r\n            surname={profile.surname}\r\n            img={profile.avatar}\r\n            text={item.body}\r\n          />\r\n        );\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={style.wrapperCreaterPost}>\r\n      {isOwnerProfile ? (\r\n        <div>\r\n          <h2>My Post</h2>\r\n          <FormCreatePost addPost={addPost} />\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <h2>{profile?.name + `'`} Posts</h2>\r\n        </div>\r\n      )}\r\n      {<div className={style.posts}>{map()}</div>}\r\n    </div>\r\n  );\r\n};\r\n","import { Formik, Form, Field } from \"formik\";\r\nimport style from \"../forms.module.css\";\r\nimport { ValidEditProfileSchema } from \"../../services/validation/validators\";\r\nimport cn from \"classnames\";\r\nimport { IThunkRewriteProfile } from \"../../store/thunks/profileThunks\";\r\nimport { useAppDispatch } from \"../../hooks/redux-use\";\r\nimport { ICommonProfile } from \"../../models/ICommonProfile\";\r\n\r\ninterface IDefaultProps {\r\n  profile: ICommonProfile;\r\n  setIsEditProfile: (toggle: boolean) => any;\r\n  rewriteProfile: (data: ICommonProfile) => any;\r\n  sendNewProfile: ({ id, updateProfile }: IThunkRewriteProfile) => any;\r\n}\r\n\r\ninterface IPropertyValues<T> {\r\n  profileName?: T;\r\n  profileSurname?: T;\r\n  profileNick?: T;\r\n  profileStatus?: T;\r\n  profileCountry?: T;\r\n  profileCity?: T;\r\n  profileAvatar?: T;\r\n}\r\n\r\ninterface IFieldProps {\r\n  setIsEditProfile: (toggle: boolean) => void;\r\n  errors: IPropertyValues<string>;\r\n  touched: IPropertyValues<boolean>;\r\n}\r\n\r\nexport const FormEditProfile = ({\r\n  profile,\r\n  setIsEditProfile,\r\n  rewriteProfile,\r\n  sendNewProfile,\r\n}: IDefaultProps) => {\r\n  const dispatch = useAppDispatch();\r\n  const startValue = {\r\n    profileName: profile.name,\r\n    profileSurname: profile.surname,\r\n    profileNick: profile.nickname,\r\n    profileStatus: profile.status,\r\n    profileCountry: profile.country,\r\n    profileCity: profile.city,\r\n    profileAvatar: \"\",\r\n  };\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={startValue}\r\n      onSubmit={(values: typeof startValue) => {\r\n        const newData = {\r\n          ...profile,\r\n          name: values.profileName,\r\n          surname: values.profileSurname,\r\n          nickname: values.profileNick || \"\",\r\n          status: values.profileStatus || \"\",\r\n          country: values.profileCountry,\r\n          city: values.profileCity || \"Not indicated\",\r\n          avatar: values.profileAvatar || profile.avatar,\r\n        };\r\n        dispatch(rewriteProfile(newData));\r\n        dispatch(sendNewProfile({ id: profile.id, updateProfile: newData }));\r\n        setIsEditProfile(false);\r\n      }}\r\n      validationSchema={ValidEditProfileSchema}\r\n    >\r\n      {({ ...formikProps }) => {\r\n        return <Fields {...formikProps} setIsEditProfile={setIsEditProfile} />;\r\n      }}\r\n    </Formik>\r\n  );\r\n};\r\n\r\nconst Fields = ({ setIsEditProfile, errors, touched }: IFieldProps) => {\r\n  const alternate–°allErrors =\r\n    errors.profileName ||\r\n    errors.profileSurname ||\r\n    errors.profileNick ||\r\n    errors.profileStatus ||\r\n    errors.profileCountry ||\r\n    errors.profileCity ||\r\n    errors.profileAvatar;\r\n  return (\r\n    <Form>\r\n      <div className={style.allForms}>\r\n        <span className={style.spanEditProfile}>Name*:</span>\r\n        <Field\r\n          className={`${style.inputsEditProfile} ${\r\n            errors.profileName && style.errorField\r\n          }`}\r\n          type={\"input\"}\r\n          name={\"profileName\"}\r\n          placeholder={\"New Name\"}\r\n        />\r\n      </div>\r\n      <div className={style.allForms}>\r\n        <span className={style.spanEditProfile}>Surname*:</span>\r\n        <Field\r\n          className={cn(\r\n            style.inputsEditProfile,\r\n            errors.profileSurname && style.errorField\r\n          )}\r\n          type={\"input\"}\r\n          name={\"profileSurname\"}\r\n          placeholder={\"New Surname\"}\r\n        />\r\n      </div>\r\n      <div className={style.allForms}>\r\n        <span className={style.spanEditProfile}>Nickname:</span>\r\n        <Field\r\n          className={cn(\r\n            style.inputsEditProfile,\r\n            errors.profileNick && style.errorField\r\n          )}\r\n          type={\"input\"}\r\n          name={\"profileNick\"}\r\n          placeholder={\"New Nickname\"}\r\n        />\r\n      </div>\r\n      <div className={style.allForms}>\r\n        <span className={style.spanEditProfile}>Status:</span>\r\n        <Field\r\n          className={cn(\r\n            style.inputsEditProfile,\r\n            errors.profileStatus && style.errorField\r\n          )}\r\n          type={\"input\"}\r\n          name={\"profileStatus\"}\r\n          placeholder={\"New Status\"}\r\n        />\r\n      </div>\r\n      <div className={style.allForms}>\r\n        <span className={`${style.spanEditProfile}`}>Coutry*:</span>\r\n        <Field\r\n          className={cn(\r\n            style.inputsEditProfile,\r\n            errors.profileCountry && style.errorField\r\n          )}\r\n          type={\"input\"}\r\n          name={\"profileCountry\"}\r\n          placeholder={\"New Country\"}\r\n        />\r\n      </div>\r\n      <div className={style.allForms}>\r\n        <span className={style.spanEditProfile}>City:</span>\r\n        <Field\r\n          className={cn(\r\n            style.inputsEditProfile,\r\n            errors.profileCity && style.errorField\r\n          )}\r\n          type={\"input\"}\r\n          name={\"profileCity\"}\r\n          placeholder={\"New City\"}\r\n        />\r\n      </div>\r\n      <div className={style.uploadAvatar}>\r\n        <span className={style.spanEditProfile}>Loading Avatar from link:</span>\r\n        <br />\r\n        <Field\r\n          className={cn(\r\n            style.inputsAvatar,\r\n            errors.profileAvatar && style.errorField\r\n          )}\r\n          type={\"input\"}\r\n          name={\"profileAvatar\"}\r\n          placeholder={\"URL new photo for avatar\"}\r\n        />\r\n      </div>\r\n      {alternate–°allErrors && (\r\n        <span className={style.errorEditProfile}>{alternate–°allErrors}</span>\r\n      )}\r\n      <br />\r\n      <button\r\n        type=\"submit\"\r\n        className={cn(style.btn_editProfile, style.btn_apply)}\r\n      >\r\n        Apply\r\n      </button>\r\n      <button\r\n        type=\"reset\"\r\n        onClick={() => setIsEditProfile(false)}\r\n        className={cn(style.btn_editProfile, style.btn_cancel)}\r\n      >\r\n        Cancel\r\n      </button>\r\n    </Form>\r\n  );\r\n};\r\n","import { Field, Form, Formik } from \"formik\";\r\nimport style from \"../forms.module.css\";\r\nimport { ValidStatusSchema } from \"../../services/validation/validators\";\r\nimport { IThunkRewriteProfile } from \"../../store/thunks/profileThunks\";\r\nimport { useAppDispatch } from \"../../hooks/redux-use\";\r\nimport { ICommonProfile } from \"../../models/ICommonProfile\";\r\n\r\ninterface IDefaultProps {\r\n  profile: ICommonProfile;\r\n  setIsEditStatus: (set: boolean) => any;\r\n  changeStatus: (newStatus: string) => any;\r\n  saveStatus: ({ id, updateProfile }: IThunkRewriteProfile) => any;\r\n}\r\n\r\ninterface IPropertyValues<T> {\r\n  editStatus?: T;\r\n}\r\n\r\ninterface IFieldProps {\r\n  handleSubmit: () => void;\r\n  errors: IPropertyValues<string>;\r\n  touched: IPropertyValues<boolean>;\r\n}\r\n\r\nexport const FormEditStatus = ({\r\n  setIsEditStatus,\r\n  changeStatus,\r\n  saveStatus,\r\n  profile,\r\n}: IDefaultProps) => {\r\n  const dispatch = useAppDispatch();\r\n  const startValue = { editStatus: profile.status };\r\n  return (\r\n    <Formik\r\n      initialValues={startValue}\r\n      onSubmit={(values) => {\r\n        dispatch(changeStatus(values.editStatus));\r\n        dispatch(\r\n          saveStatus({\r\n            id: profile.id,\r\n            updateProfile: { ...profile, status: values.editStatus },\r\n          })\r\n        );\r\n        setIsEditStatus(true);\r\n      }}\r\n      validationSchema={ValidStatusSchema}\r\n    >\r\n      {({ ...formikProps }) => {\r\n        return <Fields {...formikProps} />;\r\n      }}\r\n    </Formik>\r\n  );\r\n};\r\n\r\nconst Fields = ({ handleSubmit, touched, errors }: IFieldProps) => {\r\n  return (\r\n    <Form>\r\n      <Field\r\n        className={style.editStatusInput}\r\n        autoFocus={true}\r\n        as=\"textarea\"\r\n        id=\"editStatus\"\r\n        name=\"editStatus\"\r\n        placeholder=\"Your a new status\"\r\n        onBlur={handleSubmit}\r\n      />\r\n      <br />\r\n      {touched.editStatus && errors.editStatus ? (\r\n        <span className={style.errorEditStatus}>{errors.editStatus}</span>\r\n      ) : null}\r\n    </Form>\r\n  );\r\n};\r\n","import { useState } from \"react\";\r\nimport { ICommonProfile } from \"../../../models/ICommonProfile\";\r\nimport { IThunkRewriteProfile } from \"../../../store/thunks/profileThunks\";\r\nimport { FormEditProfile } from \"../../../UI/FormEditProfile/FormEditProfile\";\r\nimport { FormEditStatus } from \"../../../UI/FormEditStatus/FormEditStatus\";\r\nimport style from \"../profile.module.css\";\r\n\r\ninterface defaultProps {\r\n  profile: ICommonProfile;\r\n  isOwnerProfile: boolean;\r\n  changeStatus: (text: string) => void;\r\n  sendNewProfile: ({ id, updateProfile }: IThunkRewriteProfile) => void;\r\n  rewriteProfile: (data: ICommonProfile) => void;\r\n}\r\n\r\nexport const ProfileCard: React.FC<defaultProps> = ({\r\n  profile,\r\n  isOwnerProfile,\r\n  changeStatus,\r\n  sendNewProfile,\r\n  rewriteProfile,\r\n}) => {\r\n  const [isEditStatus, setIsEditStatus] = useState(true);\r\n  const [isEditProfile, setIsEditProfile] = useState(false);\r\n  return (\r\n    <div>\r\n      <div className={style.profileCard}>\r\n        <div className={style.leftCard}>\r\n          <div>\r\n            <img src={profile.avatar} alt=\"avatar\" />\r\n          </div>\r\n          <div className={style.profileInfo}>\r\n            <strong className={style.profileName}>\r\n              {`${profile.name} \r\n              ${profile.nickname ? `\"${profile.nickname}\"` : \"\"} \r\n              ${profile.surname}`}\r\n            </strong>\r\n            <br />\r\n            <br />\r\n            <div>\r\n              {isEditStatus || !isOwnerProfile ? (\r\n                <strong\r\n                  className={style.profileStatus}\r\n                  onDoubleClick={() => setIsEditStatus(false)}\r\n                >\r\n                  {profile.status || \"\"}\r\n                </strong>\r\n              ) : (\r\n                <FormEditStatus\r\n                  profile={profile}\r\n                  saveStatus={sendNewProfile}\r\n                  setIsEditStatus={setIsEditStatus}\r\n                  changeStatus={changeStatus}\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className={style.rightCard}>\r\n          {isOwnerProfile ? (\r\n            <button\r\n              onClick={() => setIsEditProfile(true)}\r\n              className={style.btn_settings}\r\n            >\r\n              Setting Profile\r\n            </button>\r\n          ) : (\r\n            <div></div>\r\n          )}\r\n          <div className={style.locationCard}>\r\n            <span>{profile.country}</span>\r\n            <span>{profile.city}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {isEditProfile && (\r\n        <div className={style.wrapperEditMode}>\r\n          <div className={style.wrapperForm}>\r\n            <FormEditProfile\r\n              profile={profile}\r\n              setIsEditProfile={setIsEditProfile}\r\n              rewriteProfile={rewriteProfile}\r\n              sendNewProfile={sendNewProfile}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};","import { useState, useEffect, useCallback } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport {\r\n  getAuthID,\r\n  isAuthInitialization,\r\n} from \"../../../store/reselectors/auth-selector\";\r\nimport { profileAction } from \"../../../store/reducers/profileSlice\";\r\nimport { useAppDispatch, useAppSelector } from \"../../../hooks/redux-use\";\r\nimport { getIsOwnerProfile, getProfile } from \"../../../store/reselectors/profile-selector\";\r\nimport { sendRewriteProfile } from \"../../../store/thunks/profileThunks\";\r\nimport { ProfileCard } from \"./ProfileCard\";\r\nimport { Preloader } from \"../../../asset/common/Preloader\";\r\nimport { initlizationProfile } from \"../../../helpers/initialzationHelper\";\r\n\r\nexport const ProfileContainer: React.FC<any> = () => {\r\n  const { idLoggedUser, profile, auth,isOwner } = {\r\n    idLoggedUser: useAppSelector(getAuthID),\r\n    profile: useAppSelector(getProfile),\r\n    auth: useAppSelector(isAuthInitialization),\r\n    isOwner: useAppSelector(getIsOwnerProfile)\r\n  };\r\n  const { changeStatus, rewriteProfile } = profileAction;\r\n  let dispatch = useAppDispatch();\r\n  const sendNewProfile = sendRewriteProfile;\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  let paramsSelectedUserID = useParams().userID;\r\n  const initProfile = useCallback(() => {\r\n    initlizationProfile(paramsSelectedUserID, idLoggedUser, auth, dispatch);\r\n  }, [paramsSelectedUserID, idLoggedUser, auth, dispatch]);\r\n\r\n  useEffect(() => {\r\n    initProfile();\r\n    const timer = setTimeout(() => {\r\n      setIsLoading(false);\r\n    }, 400);\r\n    return () => clearTimeout(timer);\r\n  }, [initProfile]);\r\n\r\n  return (\r\n    <div>\r\n      {profile != null && !isLoading ? (\r\n        <ProfileCard\r\n          profile={profile}\r\n          isOwnerProfile={isOwner}\r\n          changeStatus={changeStatus}\r\n          sendNewProfile={sendNewProfile}\r\n          rewriteProfile={rewriteProfile}\r\n        />\r\n      ) : (\r\n        <Preloader />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import style from \"../../main.module.css\";\r\nimport { PostCreater } from \"./PostModule/PostCreater\";\r\nimport { ProfileContainer } from \"./ProfileModule/ProfileContainer\";\r\n\r\nconst Profile = () => {\r\n  return (\r\n    <div className={style.profile}>\r\n      <div>\r\n        <ProfileContainer />\r\n        <PostCreater />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import style from \"../../components/User/users.module.css\";\r\nimport cn from \"classnames\";\r\nimport { useAppDispatch } from \"../../hooks/redux-use\";\r\nimport { setFollowed } from \"../../store/thunks/usersThunks\";\r\n\r\ninterface defaultProps {\r\n  isAuth: boolean;\r\n  isFollowingDisabled: boolean;\r\n  isFollowed: boolean;\r\n  idUser: number;\r\n}\r\nexport const FollowingButton: React.FC<defaultProps> = ({\r\n  isAuth,\r\n  isFollowingDisabled,\r\n  isFollowed,\r\n  idUser,\r\n}) => {\r\n  const dispatch = useAppDispatch();\r\n  const setFollow = (id: number, isFollow: boolean) =>\r\n    dispatch(setFollowed({ id, isFollow }));\r\n  return (\r\n    <div>\r\n      {isAuth ? (\r\n        <button\r\n          className={cn(isFollowed ? style.unfollow : style.follow)}\r\n          onClick={() => setFollow(idUser, isFollowed)}\r\n          disabled={isFollowingDisabled}\r\n        >\r\n          {isFollowed ? \"Unfollow\" : \"Follow\"}\r\n        </button>\r\n      ) : (\r\n        <div></div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import style from \"./users.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport notAvatar from \"../../asset/notAvatar.jpg\";\r\nimport { FollowingButton } from \"../../UI/FollowingBtn/Following_btn\";\r\n\r\ntype defaultProps = {\r\n  id: number;\r\n  data: any;\r\n  isFollowingDisabled: boolean;\r\n  friends: Array<number>;\r\n  isAuth: boolean;\r\n};\r\nexport const User: React.FC<defaultProps> = ({\r\n  data,\r\n  isFollowingDisabled,\r\n  friends,\r\n  isAuth,\r\n}) => {\r\n  const isFollowed = friends.some((id) => id === data.id);\r\n  const avatars = data.avatar ? data.avatar : notAvatar;\r\n\r\n  return (\r\n    <div className={style.wrapperUser}>\r\n      <div className={style.leftContent}>\r\n        <NavLink\r\n          onClick={() => window.scrollTo({ top: 0 })}\r\n          className={style.userIMG}\r\n          to={`/profile/${data.id}`}\r\n        >\r\n          <img src={avatars} alt=\"avatar\" />\r\n        </NavLink>\r\n        <div className={style.dataBlock}>\r\n          <div\r\n            className={style.dataFullName}\r\n          >{`${data.name} ${data.surname}`}</div>\r\n          <div className={style.dataNickname}>{data.nickname}</div>\r\n          <div className={style.dataStatus}>{data.status}</div>\r\n        </div>\r\n      </div>\r\n      <div className={style.rightContent}>\r\n        <strong className={style.dataCountry}>{data.country}</strong>\r\n        <strong className={style.dataCity}>\r\n          {data.city === \"Not indicated\" ? null : data.city}\r\n        </strong>\r\n        <FollowingButton\r\n          isAuth={isAuth}\r\n          isFollowed={isFollowed}\r\n          isFollowingDisabled={isFollowingDisabled}\r\n          idUser={data.id}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import Login from \"../components/Auth/Login\";\r\nimport Contact from \"../components/Contact/Contact\";\r\nimport Dialogs from \"../components/Dialogs/Dialog\";\r\nimport News from \"../components/News/News\";\r\nimport Profile from \"../components/Profile/Profile\";\r\nimport UsersPage from \"../components/User/UsersPage\";\r\n\r\ninterface IDataList {\r\n  key: number;\r\n  redirect: boolean;\r\n  redirectPath: string;\r\n  path: string;\r\n  JSX: React.FC<any>;\r\n}\r\n\r\nexport const dataListRouter: Array<IDataList> = [\r\n  {\r\n    key: 1,\r\n    redirect: true,\r\n    redirectPath: \"/login\",\r\n    path: \"/EhoSpace\",\r\n    JSX: Profile,\r\n  },\r\n  {\r\n    key: 2,\r\n    redirect: true,\r\n    redirectPath: \"/login\",\r\n    path: \"ehoSpace/profile\",\r\n    JSX: Profile,\r\n  },\r\n  {\r\n    key: 3,\r\n    redirect: false,\r\n    redirectPath: \"\",\r\n    path: \"/profile/:userID\",\r\n    JSX: Profile,\r\n  },\r\n  {\r\n    key: 4,\r\n    redirect: true,\r\n    redirectPath: \"/login\",\r\n    path: \"ehoSpace/dialogs\",\r\n    JSX: Dialogs,\r\n  },\r\n  {\r\n    key: 5,\r\n    redirect: false,\r\n    redirectPath: \"\",\r\n    path: \"ehoSpace/dialogs\",\r\n    JSX: Dialogs,\r\n  },\r\n  {\r\n    key: 6,\r\n    redirect: false,\r\n    redirectPath: \"\",\r\n    path: \"ehoSpace/dialogs/:userID\",\r\n    JSX: Dialogs,\r\n  },\r\n  {\r\n    key: 7,\r\n    redirect: false,\r\n    redirectPath: \"\",\r\n    path: \"ehoSpace/users\",\r\n    JSX: UsersPage,\r\n  },\r\n  {\r\n    key: 8,\r\n    redirect: false,\r\n    redirectPath: \"\",\r\n    path: \"ehoSpace/contact\",\r\n    JSX: Contact,\r\n  },\r\n  {\r\n    key: 9,\r\n    redirect: false,\r\n    redirectPath: \"\",\r\n    path: \"ehoSpace/news\",\r\n    JSX: News,\r\n  },\r\n  {\r\n    key: 10,\r\n    redirect: false,\r\n    redirectPath: \"\",\r\n    path: \"ehoSpace/login\",\r\n    JSX: Login,\r\n  },\r\n  // {\r\n  //   key:11,\r\n  //   redirect: false,redirectPath: \"\",\r\n  //   path: \"\",\r\n  //   JSX: <div></div>,\r\n  // },\r\n];\r\n","import style from \"../../main.module.css\";\r\nimport styleU from \"./users.module.css\";\r\nimport { useCallback, useEffect } from \"react\";\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/redux-use\";\r\nimport { isAuthInitialization } from \"../../store/reselectors/auth-selector\";\r\nimport {\r\n  getIsFetching,\r\n  getIsEmpty,\r\n  getIsFollowingDisabled,\r\n  getFollowingID,\r\n  getFiltredUsers,\r\n} from \"../../store/reselectors/users-selector\";\r\nimport { getPartUsers } from \"../../store/thunks/usersThunks\";\r\nimport { Preloader } from \"../../asset/common/Preloader\";\r\nimport { User } from \"./User\";\r\n\r\nconst UsersPage: React.FC = () => {\r\n  const { users, isFetching, isEmpty, isFollowingDisabled, friends, isAuth } = {\r\n    users: useAppSelector(getFiltredUsers),\r\n    isFetching: useAppSelector(getIsFetching),\r\n    isEmpty: useAppSelector(getIsEmpty),\r\n    isFollowingDisabled: useAppSelector(getIsFollowingDisabled),\r\n    friends: useAppSelector(getFollowingID),\r\n    isAuth: useAppSelector(isAuthInitialization),\r\n  };\r\n  const dispatch = useAppDispatch();\r\n  const getUsersParts = useCallback(() => dispatch(getPartUsers()), [dispatch]);\r\n\r\n  useEffect(() => {\r\n    getUsersParts();\r\n  }, [getUsersParts]);\r\n\r\n  let mapUsers = users.map((user) => (\r\n    <User\r\n      id={user.id}\r\n      key={user.id}\r\n      data={user}\r\n      isFollowingDisabled={isFollowingDisabled}\r\n      friends={friends}\r\n      isAuth={isAuth}\r\n    />\r\n  ));\r\n  return (\r\n    <div className={style.profile}>\r\n      {isFetching && !isEmpty ? <Preloader /> : <div>{mapUsers}</div>}\r\n      <div style={{ textAlign: \"center\" }}>\r\n        {isEmpty ? (\r\n          <span className={styleU.error}>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</span>\r\n        ) : null}\r\n        <br />\r\n        <button className={styleU.btnGetUsers} onClick={() => getUsersParts()}>\r\n          Load Users\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UsersPage;\r\n","import { Navigate, Route, Routes } from \"react-router\";\r\nimport { dataListRouter } from \"./router-list\";\r\n\r\nexport const Routers: React.FC<{ isAuth: boolean }> = ({ isAuth }) => {\r\n  return (\r\n    <Routes>\r\n      {dataListRouter.map((route) => {\r\n        if (route.redirect) {\r\n          if (!isAuth) {\r\n            return (\r\n              <Route\r\n                key={route.key}\r\n                path={route.path}\r\n                element={<Navigate to={route.redirectPath} />}\r\n              />\r\n            );\r\n          } else {\r\n            return (\r\n              <Route\r\n                key={route.key}\r\n                path={route.path}\r\n                element={<route.JSX />}\r\n              />\r\n            );\r\n          }\r\n        } else {\r\n          return (\r\n            <Route key={route.key} path={route.path} element={<route.JSX />} />\r\n          );\r\n        }\r\n      })}\r\n    </Routes>\r\n  );\r\n};\r\n\r\n// export const Routers: React.FC<{ isAuth: boolean }> = ({ isAuth }) => {\r\n//   return (\r\n//     <Routes>\r\n//       {dataListRouter.map((route) => {\r\n//         console.log(<Route path={route.path} element={<route.JSX />} />);\r\n//         //@ts-ignore\r\n//         console.log(route);\r\n//         return <Route path={route.path} element={<route.JSX/>} />;\r\n//       })}\r\n//     </Routes>\r\n//   );\r\n// };\r\n","import { BrowserRouter } from \"react-router-dom\";\nimport Saidbar from \"./components/Saidbar/Saidbar\";\nimport style from \"./main.module.css\";\nimport Header from \"./components/Header/Header\";\nimport { useEffect } from \"react\";\nimport { useAppDispatch, useAppSelector } from \"./hooks/redux-use\";\nimport { isAuthInitialization } from \"./store/reselectors/auth-selector\";\nimport { initialzationApp } from \"./helpers/initialzationHelper\";\nimport { Routers } from \"./routers/Routers\";\n\nfunction App() {\n  const dispatch = useAppDispatch();\n  const isAuth = useAppSelector(isAuthInitialization);\n  useEffect(() => {\n    initialzationApp(dispatch);\n  }, [dispatch]);\n  return (\n    <div className={style.wrapper}>\n      <BrowserRouter>\n        <Header />\n        <Saidbar />\n        <Routers isAuth={isAuth} />\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import {\r\n  fetchArrayFollowUsers,\r\n  fetchChatMessages,\r\n  sendMessages,\r\n} from \"../thunks/dialogsThunks\";\r\nimport { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { dialogsUsersType, dialogsMessagesType } from \"../../models/IDialogs\";\r\n\r\ntype initialStateType = {\r\n  dialogsUsers: Array<dialogsUsersType>;\r\n  dialogsMessages: Array<dialogsMessagesType>;\r\n  isLoading: boolean;\r\n};\r\n\r\nconst initialState: initialStateType = {\r\n  dialogsUsers: [],\r\n  dialogsMessages: [],\r\n  isLoading: false,\r\n\r\n};\r\n\r\nconst dialogsSlice = createSlice({\r\n  name: \"dialogsPage\",\r\n  initialState,\r\n  reducers: {\r\n    addMessage(state, action: PayloadAction<dialogsMessagesType>) {\r\n      state.dialogsMessages = [...state.dialogsMessages, action.payload];\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [fetchArrayFollowUsers.pending.type]: (state) => {\r\n      state.isLoading = true;\r\n    },\r\n    [fetchArrayFollowUsers.fulfilled.type]: (\r\n      state,\r\n      action: PayloadAction<dialogsUsersType[]>\r\n    ) => {\r\n      state.isLoading = false;\r\n      state.dialogsUsers = action.payload;\r\n    },\r\n    [fetchArrayFollowUsers.rejected.type]: (state) => {\r\n      state.isLoading = false;\r\n    },\r\n    [fetchChatMessages.pending.type]: (state) => {\r\n      state.isLoading = true;\r\n    },\r\n    [fetchChatMessages.fulfilled.type]: (\r\n      state,\r\n      action: PayloadAction<dialogsMessagesType[]>\r\n    ) => {\r\n      state.dialogsMessages = action.payload;\r\n      state.isLoading = false;\r\n    },\r\n    [fetchChatMessages.rejected.type]: (state) => {\r\n      state.dialogsMessages = [];\r\n      state.isLoading = false;\r\n    },\r\n    [sendMessages.pending.type]: (state) => {},\r\n    [sendMessages.fulfilled.type]: (\r\n      state,\r\n      action: PayloadAction<dialogsMessagesType>\r\n    ) => {\r\n      state.dialogsMessages = [...state.dialogsMessages, action.payload];\r\n    },\r\n    [sendMessages.rejected.type]: (state) => {},\r\n  },\r\n});\r\n\r\nexport const dialogsAction = dialogsSlice.actions;\r\n\r\nexport const dialogsReducer = dialogsSlice.reducer;\r\n","import { combineReducers, configureStore } from \"@reduxjs/toolkit\";\r\nimport { profileReducer } from \"./reducers/profileSlice\";\r\nimport { authReducer } from \"./reducers/authSlice\";\r\nimport { dialogsReducer } from \"./reducers/dialogsSlice\";\r\nimport { userReducer } from \"./reducers/userSlice\";\r\n\r\nconst rootReducer = combineReducers({\r\n  userReducer,\r\n  dialogsReducer,\r\n  profileReducer,\r\n  authReducer,\r\n});\r\n\r\nconst setupStore = () => {\r\n  return configureStore({\r\n    reducer: rootReducer,\r\n  });\r\n};\r\n\r\nexport default setupStore;\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\nexport type AppStore = ReturnType<typeof setupStore>;\r\nexport type AppDispatch = AppStore[\"dispatch\"];\r\n","// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics } from \"firebase/analytics\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STOROGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGIN_SEND_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nconst analytics = getAnalytics(app);\r\n","import reportWebVitals from \"./reportWebVitals\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport setupStore from \"./store/store\";\nimport \"./firebase\"\nlet store = setupStore();\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperCreaterPost\":\"profile_wrapperCreaterPost__362Gf\",\"loading\":\"profile_loading__3GyDO\",\"posts\":\"profile_posts__1RGHC\",\"wrapperPost\":\"profile_wrapperPost__3ZMLa\",\"postContent\":\"profile_postContent__2Jejg\",\"postTime\":\"profile_postTime__2rcCW\",\"profileCard\":\"profile_profileCard__ZkqoM\",\"profileStatus\":\"profile_profileStatus__2eBm2\",\"leftCard\":\"profile_leftCard__2eIqk\",\"profileInfo\":\"profile_profileInfo__2mB4A\",\"profileImg\":\"profile_profileImg__340NB\",\"rightCard\":\"profile_rightCard__1FMpW\",\"locationCard\":\"profile_locationCard__1oO-R\",\"btn_settings\":\"profile_btn_settings__1LflI\",\"profileName\":\"profile_profileName__3-nf3\",\"wrapperEditMode\":\"profile_wrapperEditMode__3sR5Y\",\"wrapperForm\":\"profile_wrapperForm__36zFG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperUser\":\"users_wrapperUser__2zjdC\",\"leftContent\":\"users_leftContent__20Xws\",\"rightContent\":\"users_rightContent__1kEzE\",\"dataCountry\":\"users_dataCountry__1G0Dt\",\"dataCity\":\"users_dataCity__3XGma\",\"userIMG\":\"users_userIMG__1VujQ\",\"dataBlock\":\"users_dataBlock__3lMwq\",\"dataFullName\":\"users_dataFullName__2gC7e\",\"dataNickname\":\"users_dataNickname__2uAeI\",\"dataStatus\":\"users_dataStatus__2onIM\",\"unfollow\":\"users_unfollow__1cHPH\",\"follow\":\"users_follow__17s9f\",\"btnGetUsers\":\"users_btnGetUsers__2mvXU\",\"error\":\"users_error__uflX3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"main_wrapper__21S5H\",\"profile\":\"main_profile__1Ph1U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__2DumK\",\"logo\":\"header_logo__2Fk41\",\"loginBlock\":\"header_loginBlock__2OksS\",\"logOut\":\"header_logOut__3rAFW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"asset_preloader__353XT\",\"wrapperProfile\":\"asset_wrapperProfile__3T7T7\",\"preloader_chat\":\"asset_preloader_chat__11Kt3\",\"chatPreview\":\"asset_chatPreview__kKt9U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"saidbar\":\"saidbar_saidbar__3ufFv\",\"activeLink\":\"saidbar_activeLink__25LoZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formCreatePost\":\"forms_formCreatePost__3UGcD\",\"btn_post\":\"forms_btn_post__2RPrC\",\"errorCreatePost\":\"forms_errorCreatePost__30dTv\",\"spanEditProfile\":\"forms_spanEditProfile__2RKJ4\",\"allForms\":\"forms_allForms__3gJuj\",\"inputsEditProfile\":\"forms_inputsEditProfile__1-ahJ\",\"uploadAvatar\":\"forms_uploadAvatar__2etun\",\"inputsAvatar\":\"forms_inputsAvatar__SiEzt\",\"errorEditProfile\":\"forms_errorEditProfile__37lFL\",\"errorField\":\"forms_errorField__1STp-\",\"btn_editProfile\":\"forms_btn_editProfile__3yzYe\",\"btn_apply\":\"forms_btn_apply___BzNZ\",\"btn_cancel\":\"forms_btn_cancel__Cb5Fh\",\"editStatusInput\":\"forms_editStatusInput__1ZdCv\",\"errorEditStatus\":\"forms_errorEditStatus__1SFeI\",\"form__title\":\"forms_form__title__3nGj6\",\"link\":\"forms_link__36lG2\",\"error\":\"forms_error__1BhXJ\",\"container\":\"forms_container__aYPVa\",\"container__form\":\"forms_container__form__3nJkH\",\"container__signin\":\"forms_container__signin__1ffD0\",\"right_panel_active\":\"forms_right_panel_active__2ciqn\",\"show\":\"forms_show__39OJF\",\"container__signup\":\"forms_container__signup__35jSE\",\"container__overlay\":\"forms_container__overlay__2jCYP\",\"overlay\":\"forms_overlay__3jT5l\",\"overlay__panel\":\"forms_overlay__panel__363nz\",\"overlay__left\":\"forms_overlay__left__1MEwK\",\"overlay__right\":\"forms_overlay__right__2JlNE\",\"btn\":\"forms_btn__2phiI\",\"form\":\"forms_form__29PRg\",\"input\":\"forms_input__2ifXj\",\"input__error\":\"forms_input__error__3qlRJ\",\"input__correctly\":\"forms_input__correctly__1fuEg\",\"wrapperChatForm\":\"forms_wrapperChatForm__1KolO\",\"chat_textarea\":\"forms_chat_textarea__1GN5o\",\"chat_btn\":\"forms_chat_btn__3B2Af\"};"],"sourceRoot":""}